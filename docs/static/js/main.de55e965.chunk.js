(this["webpackJsonpdefi-js.github.io"]=this["webpackJsonpdefi-js.github.io"]||[]).push([[0],{1049:function(t,e){},1054:function(t,e){},1063:function(t){t.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogBorrow","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogDeposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogRepay","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogWithdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"AUSDC","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"BASE_PERCENT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEBT_TOKEN","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LENDING_POOL","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LIQUIDITY_MINING","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"REWARD_TOKEN","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDC","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"_borrow","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"_deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"_repay","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"_withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRewardsToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"emergencyFunctionCall","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"emergencyFunctionDelegateCall","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"iterations","type":"uint256"}],"name":"enterPosition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"maxIterations","type":"uint256"}],"name":"exitPosition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getBalanceAUSDC","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalanceDebtToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalanceReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalanceUSDC","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPositionData","outputs":[{"internalType":"uint256","name":"totalCollateralETH","type":"uint256"},{"internalType":"uint256","name":"totalDebtETH","type":"uint256"},{"internalType":"uint256","name":"availableBorrowsETH","type":"uint256"},{"internalType":"uint256","name":"currentLiquidationThreshold","type":"uint256"},{"internalType":"uint256","name":"ltv","type":"uint256"},{"internalType":"uint256","name":"healthFactor","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawAllUSDCToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"asset","type":"address"}],"name":"withdrawToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},1064:function(t){t.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_manager","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"LogBorrow","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"LogMint","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"LogRedeem","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"LogRedeemUnderlying","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"LogRepay","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"prevManager","type":"address"},{"indexed":false,"internalType":"address","name":"newManager","type":"address"}],"name":"ManagerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"COMP","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CUSDC","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"UNITROLLER","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDC","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"borrow","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"borrowBalanceCurrent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cTokenBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimAndTransferAllCompToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimComp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"holders","type":"address[]"},{"internalType":"address[]","name":"cTokens","type":"address[]"},{"internalType":"bool","name":"borrowers","type":"bool"},{"internalType":"bool","name":"suppliers","type":"bool"}],"name":"claimComp","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"asset_","type":"address"},{"internalType":"address","name":"to_","type":"address"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"emergencySafeTransferAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"destination","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"gasLimit","type":"uint256"}],"name":"emergencySubmitTransaction","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens_","type":"address[]"},{"internalType":"address","name":"to_","type":"address"}],"name":"emergencyTransferAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"asset_","type":"address"},{"internalType":"address","name":"to_","type":"address"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"emergencyTransferAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"enterMarkets","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"minAmountIn","type":"uint256"},{"internalType":"uint256","name":"borrowRatioNum","type":"uint256"},{"internalType":"uint256","name":"borrowRatioDenom","type":"uint256"}],"name":"enterPosition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"maxIterations","type":"uint256"},{"internalType":"uint256","name":"redeemRatioNum","type":"uint256"},{"internalType":"uint256","name":"redeemRatioDenom","type":"uint256"}],"name":"exitPosition","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAccountLiquidity","outputs":[{"internalType":"uint256","name":"err","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"shortfall","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAccountLiquidityWithInterest","outputs":[{"internalType":"uint256","name":"err","type":"uint256"},{"internalType":"uint256","name":"accountLiquidity","type":"uint256"},{"internalType":"uint256","name":"accountShortfall","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mintCToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"redeemCToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"redeemUnderlying","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"repayBorrow","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"repayBorrowAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"src","type":"address"}],"name":"safeTransferAssetToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"safeTransferUSDCToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"setApprove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newManager","type":"address"}],"name":"setManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"src_","type":"address"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"underlyingBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},1076:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(93),i=n.n(s),c=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,1153)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),s(t),i(t)}))},u=n(537),o=n(50),l=(n(572),n(573),n.p+"static/media/orbs.edf8d68f.png"),d=n.p+"static/media/logo.c2738899.svg",p=n.p+"static/media/list-icon1.18bcd298.svg",h=n.p+"static/media/list-icon2.4b928706.svg",f=n.p+"static/media/list-icon3.596f4d83.svg",y=n.p+"static/media/list-icon4.cd9ac7ff.svg",m=n.p+"static/media/list-icon5.5be90266.svg",b=n.p+"static/media/dotted-line.a7040ce9.svg",j=n.p+"static/media/geom1.75a84b0d.png",v=n.p+"static/media/geom2.3a3b2e04.png",g=n(1),O=n(9),w=(n(575),n(536)),x=n(1142),T=n(1143),k=n(1093),A=n(3),M=n.n(A),C=n(11),L=n(111),S=n.n(L),B=n(1152),N=n(1139),D=n(7),P=Object(B.a)({name:"AppState",initialState:{loading:!1,wallet:"",balance:D.zero,network:{}},actions:{connect:function(){return function(){var t=Object(C.a)(M.a.mark((function t(e){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.setState,t.next=3,E(n,Object(C.a)(M.a.mark((function t(){var e;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n({wallet:"",balance:D.zero,network:{}}),e=window.ethereum){t.next=5;break}return alert("install metamask"),t.abrupt("return");case 5:return t.next=7,_(n,e);case 7:e.on("accountsChanged",(function(){_(n,e)})),e.on("chainChanged",(function(){_(n,e)}));case 9:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},withLoading:function(t){return function(){var e=Object(C.a)(M.a.mark((function e(n){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setState,e.next=3,E(a,t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}});function E(t,e){return q.apply(this,arguments)}function q(){return(q=Object(C.a)(M.a.mark((function t(e,n){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({loading:!0}),t.next=4,n();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("".concat(t.t0.message));case 9:return t.prev=9,e({loading:!1}),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})))).apply(this,arguments)}function _(t,e){return F.apply(this,arguments)}function F(){return(F=Object(C.a)(M.a.mark((function t(e,n){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(D.setWeb3Instance)(new S.a(n)),t.next=3,Object(D.account)();case 3:return a=t.sent,t.t0=e,t.t1=a,t.next=8,Object(D.getNetwork)();case 8:return t.t2=t.sent,t.t3=D.bn,t.next=12,Object(D.web3)().eth.getBalance(a);case 12:t.t4=t.sent,t.t5=(0,t.t3)(t.t4),t.t6={wallet:t.t1,network:t.t2,balance:t.t5},(0,t.t0)(t.t6);case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var I,R=Object(N.a)(P),z=Object(N.a)(P,{selector:function(t){return S.a.utils.isAddress(t.wallet)}}),U=n(141),V=n(1145),H=n(1136),W=n(1146),G=n(201),K=n(347),J=n(254),Y=n(98),X=n(202),$=n(1149),Q=n(39),Z=n.n(Q),tt=n(538),et=n(17),nt=n(21),at={eth:"ethereum",bsc:"binance-smart-chain",poly:"polygon-pos"},rt=function(){function t(){Object(et.a)(this,t),this.prices={}}return Object(nt.a)(t,[{key:"valueOf",value:function(){var t=Object(C.a)(M.a.mark((function t(e,n){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.tokenId||e.address,this.prices[a]){t.next=9;break}if(!e.esdt){t.next=7;break}return t.next=5,this.fetchPricesElrond(a);case 5:t.next=9;break;case 7:return t.next=9,this.fetchPrices(a);case 9:return t.abrupt("return",n.mul(this.prices[a]).div(D.ether));case 10:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"fetchPrices",value:function(){var t=Object(C.a)(M.a.mark((function t(){var e,n,a,r,s,i,c,u,o=arguments;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.getNetwork)();case 2:for(e=t.sent,n=Z.a.find(at,(function(t,n){return n===e.shortname})),a=o.length,r=new Array(a),s=0;s<a;s++)r[s]=o[s];return t.next=7,fetch("https://api.coingecko.com/api/v3/simple/token_price/".concat(n,"?contract_addresses=").concat(r.join(","),"&vs_currencies=usd"));case 7:return i=t.sent,t.next=10,i.json();case 10:return c=t.sent,u=Z()(c).mapKeys((function(t,e){return S.a.utils.toChecksumAddress(e)})).mapValues((function(t){return Object(D.bn18)(t.usd)})).value(),t.abrupt("return",this.updateResults(r,u));case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchPricesElrond",value:function(){var t=Object(C.a)(M.a.mark((function t(){var e,n,a,r,s,i,c,u=arguments;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=u.length,n=new Array(e),a=0;a<e;a++)n[a]=u[a];return r={variables:Z.a.mapKeys(n,(function(t,e){return"token".concat(e)})),query:"query (".concat(Z.a.map(n,(function(t,e){return"$token".concat(e,": String!")})).join(", "),") {\n              ").concat(Z.a.map(n,(function(t,e){return"token".concat(e,": getTokenPriceUSD(tokenID: $token").concat(e,")")})).join("\n"),"\n            }")},t.next=4,fetch("https://graph.maiar.exchange/graphql",{headers:{accept:"*/*","cache-control":"no-cache","content-type":"application/json",pragma:"no-cache"},body:JSON.stringify(r),method:"POST"});case 4:return s=t.sent,t.next=7,s.json();case 7:return i=t.sent,c=Z()(i.data).mapKeys((function(t,e){return r.variables[e]})).mapValues((function(t){return Object(D.bn18)(t)})).value(),t.abrupt("return",this.updateResults(n,c));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"updateResults",value:function(t,e){if(Z.a.isEmpty(e))throw new Error("no price for ".concat(t));return Z.a.merge(this.prices,e)}}]),t}(),st=n(55),it={};!function(t){var e=new rt;t.register=function(t){Z.a.merge(it,t)},t.allTypes=function(){return Z.a.keys(it)},t.create=function(t){return it[t.type]?(t.id||(t.id=t.type+":"+t.address),it[t.type](t,e)):null},t.shouldLoad=function(t,e){return t.getNetwork().id===e.id||t.getNetwork().id<0},t.isValidInput=function(t,e){return!!t&&(S.a.utils.isAddress(e)||function(t,e){try{return t.startsWith("egld:")&&e.startsWith("erd1")&&!st.Address.fromString(e).isEmpty()}catch(n){return!1}}(t,e))}}(I||(I={}));var ct,ut,ot,lt=n(27);!function(t){t.LP_ABI=n(222);var e=function(){function t(e,n,a,r,s,i){var c=this;Object(et.a)(this,t),this.args=e,this.oracle=n,this.asset0=a,this.asset1=r,this.lpToken=s,this.poolId=i,this.masterchef=D.contracts.bsc.Pancakeswap_Masterchef(),this.cake=D.erc20s.bsc.CAKE(),this.data={amount0:D.zero,amount1:D.zero,value0:D.zero,value1:D.zero,rewardAmount:D.zero,rewardValue:D.zero,tvl:D.zero},this.getData=function(){return c.data},this.getAmounts=function(){return[{asset:c.asset0,amount:c.data.amount0,value:c.data.value0},{asset:c.asset1,amount:c.data.amount1,value:c.data.value1}]},this.getPendingRewards=function(){return[{asset:c.cake,amount:c.data.rewardAmount,value:c.data.rewardValue}]},this.getTVL=function(){return c.data.tvl},this.getContractMethods=function(){return Z.a.functions(c.masterchef.methods)}}return Object(nt.a)(t,[{key:"getArgs",value:function(){return this.args}},{key:"getNetwork",value:function(){return D.networks.bsc}},{key:"getAssets",value:function(){return[this.asset0,this.asset1]}},{key:"getRewardAssets",value:function(){return[this.cake]}},{key:"getHealth",value:function(){return[]}},{key:"load",value:function(){var t=Object(C.a)(M.a.mark((function t(){var e,n,a,r,s,i,c,u,o,l,d,p,h,f,y;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.getNetwork)();case 2:if(t.t0=t.sent.id,t.t1=this.getNetwork().id,t.t0===t.t1){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Promise.all([this.masterchef.methods.userInfo(this.poolId,this.args.address).call(),this.lpToken.methods.getReserves().call(),this.lpToken.methods.token0().call(),this.lpToken.methods.totalSupply().call(),this.masterchef.methods.pendingCake(this.poolId,this.args.address).call(),this.lpToken.methods.balanceOf(this.masterchef.options.address).call()]);case 8:return e=t.sent,n=Object(O.a)(e,6),a=n[0],r=n[1],s=n[2],i=n[3],c=n[4],u=n[5],o=r._reserve0,l=r._reserve1,d=s.toLowerCase()===this.asset0.address.toLowerCase()?o:l,p=d===o?l:o,h=Object(D.bn)(a.amount),this.data.rewardAmount=Object(D.bn)(c),this.data.amount0=Object(D.bn)(d).mul(h).div(Object(D.bn)(i)),this.data.amount1=Object(D.bn)(p).mul(h).div(Object(D.bn)(i)),t.next=25,Promise.all([this.oracle.valueOf(this.asset0,this.data.amount0),this.oracle.valueOf(this.asset1,this.data.amount1),this.oracle.valueOf(this.cake,this.data.rewardAmount),this.oracle.valueOf(this.asset1,Object(D.bn)(p).muln(2).mul(Object(D.bn)(u)).div(Object(D.bn)(i)))]);case 25:f=t.sent,y=Object(O.a)(f,4),this.data.value0=y[0],this.data.value1=y[1],this.data.rewardValue=y[2],this.data.tvl=y[3];case 31:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var t=Object(C.a)(M.a.mark((function t(e,n,a){var r,s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=(r=this.masterchef.methods)[e].apply(r,Object(lt.a)(n)),alert("target:\n".concat(this.masterchef.options.address,"\ndata:\n").concat(s.encodeABI())),t.t0=s,t.next=5,Object(D.account)();case 5:return t.t1=t.sent,t.t2=a?"0x0":"0x2",t.t3={from:t.t1,type:t.t2},t.next=10,t.t0.send.call(t.t0,t.t3);case 10:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"harvest",value:function(){var t=Object(C.a)(M.a.mark((function t(e){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.masterchef.methods.deposit(this.poolId,0),t.next=3,Object(D.account)();case 3:return t.t1=t.sent,t.t2=e?"0x0":"0x2",t.t3={from:t.t1,type:t.t2},t.next=8,t.t0.send.call(t.t0,t.t3);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();t.Farm=e}(ct||(ct={})),function(t){t[t.Critical=0]="Critical",t[t.High=1]="High",t[t.Medium=2]="Medium",t[t.Low=3]="Low"}(ut||(ut={})),function(t){var e=function(){function t(e,a){var r=this;Object(et.a)(this,t),this.args=e,this.oracle=a,this.WARN_HEALTH_FACTOR=Object(D.bn18)("1.0641"),this.instance=Object(D.contract)(n(1063),this.args.address),this.asset=D.erc20s.eth.USDC(),this.rewardAsset=D.erc20s.eth.Aave_stkAAVE(),this.aave=D.erc20s.eth.AAVE(),this.weth=D.erc20s.eth.WETH(),this.data={healthFactor:D.zero,totalCollateralETH:D.zero,totalCollateralValue:D.zero,totalDebtETH:D.zero,totalDebtValue:D.zero,rewardAmount:D.zero,rewardValue:D.zero,tvl:D.zero},this.getData=function(){return r.data},this.getAmounts=function(){return[{asset:r.asset,amount:r.data.totalCollateralETH,value:r.data.totalCollateralValue},{asset:r.asset,amount:r.data.totalDebtETH,value:r.data.totalDebtValue}]},this.getPendingRewards=function(){return[{asset:r.rewardAsset,amount:r.data.rewardAmount,value:r.data.rewardValue}]},this.getTVL=function(){return r.data.tvl},this.getContractMethods=function(){return Z.a.functions(r.instance.methods)}}return Object(nt.a)(t,[{key:"getArgs",value:function(){return this.args}},{key:"getNetwork",value:function(){return D.networks.eth}},{key:"getAssets",value:function(){return[this.asset]}},{key:"getRewardAssets",value:function(){return[this.rewardAsset]}},{key:"getHealth",value:function(){return!this.data.healthFactor.isZero()&&this.data.healthFactor.lt(this.WARN_HEALTH_FACTOR)?[{severity:ut.Critical,message:"Low Health Factor!"}]:[]}},{key:"load",value:function(){var t=Object(C.a)(M.a.mark((function t(){var e;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.getNetwork)();case 2:if(t.t0=t.sent.id,t.t1=this.getNetwork().id,t.t0===t.t1){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,this.instance.methods.getPositionData().call();case 8:return e=t.sent,this.data.healthFactor=Object(D.bn)(e.healthFactor),this.data.totalCollateralETH=Object(D.bn)(e.totalCollateralETH),this.data.totalDebtETH=Object(D.bn)(e.totalDebtETH),t.next=14,this.oracle.valueOf(this.weth,this.data.totalCollateralETH);case 14:return this.data.totalCollateralValue=t.sent,t.next=17,this.oracle.valueOf(this.weth,this.data.totalDebtETH);case 17:return this.data.totalDebtValue=t.sent,t.t2=D.bn,t.next=21,this.instance.methods.getBalanceReward().call();case 21:return t.t3=t.sent,this.data.rewardAmount=(0,t.t2)(t.t3),t.next=25,this.oracle.valueOf(this.aave,this.data.rewardAmount);case 25:return this.data.rewardValue=t.sent,t.t4=this.oracle,t.t5=this.asset,t.t6=D.to18,t.next=31,D.erc20s.eth.Aave_aUSDC().methods.totalSupply().call();case 31:return t.t7=t.sent,t.t8=(0,t.t6)(t.t7,6),t.next=35,t.t4.valueOf.call(t.t4,t.t5,t.t8);case 35:this.data.tvl=t.sent;case 36:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var t=Object(C.a)(M.a.mark((function t(e,n,a){var r,s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=(r=this.instance.methods)[e].apply(r,Object(lt.a)(n)),alert("target:\n".concat(this.instance.options.address,"\ndata:\n").concat(s.encodeABI())),t.t0=s,t.next=5,Object(D.account)();case 5:return t.t1=t.sent,t.t2=a?"0x0":"0x2",t.t3={from:t.t1,type:t.t2},t.next=10,t.t0.send.call(t.t0,t.t3);case 10:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"harvest",value:function(){var t=Object(C.a)(M.a.mark((function t(e){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.instance.methods.claimRewardsToOwner(),t.next=3,Object(D.account)();case 3:return t.t1=t.sent,t.t2=e?"0x0":"0x2",t.t3={from:t.t1,type:t.t2},t.next=8,t.t0.send.call(t.t0,t.t3);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();t.AaveLoop=e;var a=function(){function t(e,a){var r=this;Object(et.a)(this,t),this.args=e,this.oracle=a,this.WARN_LIQUIDITY_PERCENT_OF_SUPPLY=.25,this.instance=Object(D.contract)(n(1064),this.args.address),this.asset=D.erc20s.eth.USDC(),this.rewardAsset=D.erc20s.eth.COMP(),this.data={borrowBalance:D.zero,supplyBalance:D.zero,rewardAmount:D.zero,rewardValue:D.zero,accountLiquidity:D.zero,accountShortfall:D.zero,tvl:D.zero},this.getData=function(){return r.data},this.getAmounts=function(){return[{asset:r.asset,amount:r.data.supplyBalance,value:r.data.supplyBalance},{asset:r.asset,amount:r.data.borrowBalance,value:r.data.borrowBalance}]},this.getTVL=function(){return r.data.tvl},this.getPendingRewards=function(){return[{asset:r.rewardAsset,amount:r.data.rewardAmount,value:r.data.rewardValue}]},this.getContractMethods=function(){return Z.a.functions(r.instance.methods)}}return Object(nt.a)(t,[{key:"getArgs",value:function(){return this.args}},{key:"getNetwork",value:function(){return D.networks.eth}},{key:"getAssets",value:function(){return[this.asset]}},{key:"getRewardAssets",value:function(){return[this.rewardAsset]}},{key:"getHealth",value:function(){var t=this.data.supplyBalance.muln(this.WARN_LIQUIDITY_PERCENT_OF_SUPPLY).divn(100);return!this.data.accountShortfall.isZero()||Object(D.bn)(this.data.accountLiquidity).lt(t)?[{severity:ut.Critical,message:"Low Liquidity!"}]:[]}},{key:"load",value:function(){var t=Object(C.a)(M.a.mark((function t(){var e,n,a,r,s,i,c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.getNetwork)();case 2:if(t.t0=t.sent.id,t.t1=this.getNetwork().id,t.t0===t.t1){t.next=6;break}return t.abrupt("return");case 6:return t.t2=D.to18,t.next=9,this.instance.methods.borrowBalanceCurrent().call();case 9:return t.t3=t.sent,this.data.borrowBalance=(0,t.t2)(t.t3,6),t.t4=D.to18,t.next=14,D.erc20s.eth.Compound_cUSDC().methods.balanceOfUnderlying(this.args.address).call();case 14:return t.t5=t.sent,this.data.supplyBalance=(0,t.t4)(t.t5,6),t.t6=D.bn,t.next=19,this.instance.methods["claimComp()"]().call();case 19:return t.t7=t.sent,this.data.rewardAmount=(0,t.t6)(t.t7),t.next=23,this.oracle.valueOf(this.rewardAsset,this.data.rewardAmount);case 23:return this.data.rewardValue=t.sent,t.next=26,this.instance.methods.getAccountLiquidityWithInterest().call();case 26:return e=t.sent,n=e.accountLiquidity,a=e.accountShortfall,this.data.accountLiquidity=Object(D.bn)(n),this.data.accountShortfall=Object(D.bn)(a),t.next=33,Promise.all([D.erc20s.eth.Compound_cUSDC().methods.totalSupply().call(),D.erc20s.eth.Compound_cUSDC().methods.exchangeRateCurrent().call()]);case 33:r=t.sent,s=Object(O.a)(r,2),i=s[0],c=s[1],this.data.tvl=Object(D.to18)(i,8).mul(Object(D.to18)(c,16)).div(D.ether);case 38:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var t=Object(C.a)(M.a.mark((function t(e,n,a){var r,s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=(r=this.instance.methods)[e].apply(r,Object(lt.a)(n)),alert("target:\n".concat(this.instance.options.address,"\ndata:\n").concat(s.encodeABI())),t.t0=s,t.next=5,Object(D.account)();case 5:return t.t1=t.sent,t.t2=a?"0x0":"0x2",t.t3={from:t.t1,type:t.t2},t.next=10,t.t0.send.call(t.t0,t.t3);case 10:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"harvest",value:function(){var t=Object(C.a)(M.a.mark((function t(e){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.instance.methods.claimAndTransferAllCompToOwner(),t.next=3,Object(D.account)();case 3:return t.t1=t.sent,t.t2=e?"0x0":"0x2",t.t3={from:t.t1,type:t.t2},t.next=8,t.t0.send.call(t.t0,t.t3);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();t.CompoundLoop=a}(ot||(ot={}));var dt=n(198);I.register({"bsc:Pancakeswap:Farm:BUSD/BNB":function(t,e){return new ct.Farm(t,e,D.erc20s.bsc.BUSD(),D.erc20s.bsc.WBNB(),D.erc20s.bsc.Pancakeswap_LP_BUSD_BNB(),252)},"bsc:Pancakeswap:Farm:CAKE/BNB":function(t,e){return new ct.Farm(t,e,D.erc20s.bsc.CAKE(),D.erc20s.bsc.WBNB(),D.erc20s.bsc.Pancakeswap_LP_CAKE_BNB(),251)},"bsc:Pancakeswap:Farm:ORBS/BUSD":function(t,e){return new ct.Farm(t,e,D.erc20s.bsc.ORBS(),D.erc20s.bsc.BUSD(),D.erc20s.bsc.Pancakeswap_LP_ORBS_BUSD(),416)},"bsc:Pancakeswap:Farm:BTCB/BNB":function(t,e){return new ct.Farm(t,e,D.erc20s.bsc.BTCB(),D.erc20s.bsc.WBNB(),Object(D.erc20)("PancakeLP:BTCB/BNB","0x61EB789d75A95CAa3fF50ed7E47b96c132fEc082",ct.LP_ABI),262)},"bsc:Pancakeswap:Farm:DOT/BNB":function(t,e){return new ct.Farm(t,e,Object(D.erc20)("DOT","0x7083609fCE4d1d8Dc0C979AAb8c869Ea2C873402"),D.erc20s.bsc.WBNB(),Object(D.erc20)("PancakeLP:DOT/BNB","0xDd5bAd8f8b360d76d12FdA230F8BAF42fe0022CF",ct.LP_ABI),255)},"bsc:Pancakeswap:Farm:ADA/BNB":function(t,e){return new ct.Farm(t,e,Object(D.erc20)("ADA","0x3EE2200Efb3400fAbB9AacF31297cBdD1d435D47"),D.erc20s.bsc.WBNB(),Object(D.erc20)("PancakeLP:ADA/BNB","0x28415ff2C35b65B9E5c7de82126b4015ab9d031F",ct.LP_ABI),253)},"bsc:Pancakeswap:Farm:DOGE/BNB":function(t,e){return new ct.Farm(t,e,Object(D.erc20)("DOGE","0xbA2aE424d960c26247Dd6c32edC70B295c744C43"),D.erc20s.bsc.WBNB(),Object(D.erc20)("PancakeLP:DOGE/BNB","0xac109C8025F272414fd9e2faA805a583708A017f",ct.LP_ABI),376)},"bsc:Pancakeswap:Farm:LINK/BNB":function(t,e){return new ct.Farm(t,e,Object(D.erc20)("LINK","0xF8A0BF9cF54Bb92F17374d9e9A321E6a111a51bD"),D.erc20s.bsc.WBNB(),Object(D.erc20)("PancakeLP:LINK/BNB","0x824eb9faDFb377394430d2744fa7C42916DE3eCe",ct.LP_ABI),257)},"eth:Loops:AaveLoop":function(t,e){return new ot.AaveLoop(t,e)},"eth:Loops:CompoundLoop":function(t,e){return new ot.CompoundLoop(t,e)},"egld:Maiar:Farm:USDC/EGLD":function(t,e){return new dt.a.Farm(t,e,dt.a.Strategies.USDC_EGLD())},"egld:Maiar:Farm:MEX/EGLD":function(t,e){return new dt.a.Farm(t,e,dt.a.Strategies.MEX_EGLD())}});var pt="PositionArgs:v1",ht=function(){return JSON.parse(localStorage.getItem(pt)||"{}")},ft=function(t){return localStorage.setItem(pt,JSON.stringify(t))},yt=Object(B.a)({name:"AllPositionsState",initialState:{positions:{}},actions:{load:function(){return function(){var t=Object(C.a)(M.a.mark((function t(e){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dispatch,t.next=3,n(mt);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addPosition:function(t,e){return function(){var n=Object(C.a)(M.a.mark((function n(a){var r,s,i,c;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=a.getState,s=a.dispatch,i=I.create({type:t,address:e,id:""})){n.next=5;break}return alert("unknown type ".concat(t," at ").concat(e)),n.abrupt("return");case 5:return(c=Z.a.mapValues(r().positions,(function(t){return t.getArgs()})))[i.getArgs().id]=i.getArgs(),ft(c),n.next=10,s(mt);case 10:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},delete:function(t){return function(){var e=Object(C.a)(M.a.mark((function e(n){var a,r,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getState,r=n.dispatch,delete(s=Z.a.mapValues(a().positions,(function(t){return t.getArgs()})))[t],ft(s),e.next=6,r(mt);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sendTransaction:function(t,e,n,a){return function(){var r=Object(C.a)(M.a.mark((function r(s){var i;return M.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=s.getState,r.next=3,i().positions[t].sendTransaction(n,a,e);case 3:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()},harvest:function(t,e){return function(){var n=Object(C.a)(M.a.mark((function n(a){var r;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.getState,n.next=3,r().positions[t].harvest(e);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}}});function mt(t){return bt.apply(this,arguments)}function bt(){return(bt=Object(C.a)(M.a.mark((function t(e){var n,a,r,s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getState,a=e.setState,console.log("LOAD"),r=n().positions,s=Z.a.mapValues(ht(),(function(t){return r[t.id]||I.create(t)})),t.next=6,Promise.all(Z.a.map(s,(function(t){return t.load().catch((function(e){return console.log(t.getArgs().type,e)}))})));case 6:a({positions:s});case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var jt=Object(N.a)(yt,{selector:null}),vt=Object(N.a)(yt,{selector:Object(tt.a)((function(t){return Z()(t.positions).values().sortBy((function(t){return t.getArgs().type})).value()}),(function(t){return Z.a.map(t,(function(t){return{id:t.getArgs().id,type:t.getArgs().type,health:Ot(t.getHealth()),value:"$"+Object(D.fmt18)(t.getAmounts().reduce((function(t,e){return t.add(e.value)}),D.zero)).split(".")[0],pending:"$"+Object(D.fmt18)(t.getPendingRewards().reduce((function(t,e){return t.add(e.value)}),D.zero)).split(".")[0],tvl:"$"+Object(D.fmt18)(t.getTVL()).split(".")[0],position:t}}))}))}),gt=Object(N.a)(yt,{selector:function(t){return t.positions}});function Ot(t){return t.length?t.map((function(t){return t.message})).join("\u26a0\ufe0f"):"\ud83d\udfe2"}var wt=Object(B.a)({name:"AddPositionDialogState",initialState:{show:!1,type:"",address:"",valid:!1,allTypes:I.allTypes().sort()},actions:{show:function(){return function(){var t=Object(C.a)(M.a.mark((function t(e){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,e.setState)({show:!0,type:"",address:"",valid:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},closeDialog:function(){return function(){var t=Object(C.a)(M.a.mark((function t(e){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,e.setState)({show:!1});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setType:function(t){return function(){var e=Object(C.a)(M.a.mark((function e(n){var a,r,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.setState,r=n.getState,s=I.isValidInput(t,r().address),a({type:t,valid:s});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setAddress:function(t){return function(){var e=Object(C.a)(M.a.mark((function e(n){var a,r,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.setState,r=n.getState,s=I.isValidInput(r().type,t),a({address:t,valid:s});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}),xt=Object(N.a)(wt),Tt=function(){var t=z(),e=Object(O.a)(t,1)[0],n=xt(),a=Object(O.a)(n,2)[1];return Object(g.jsx)(U.a,{variant:"contained",size:"large",disabled:!e,onClick:function(){return a.show()},children:"Add Position"})},kt=function(){var t=R(),e=Object(O.a)(t,2)[1],n=xt(),a=Object(O.a)(n,2),r=a[0],s=a[1],i=jt(),c=Object(O.a)(i,2)[1],u=function(){return s.closeDialog()};return Object(g.jsx)("div",{children:Object(g.jsxs)(V.a,{open:r.show,onClose:u,children:[Object(g.jsx)(H.a,{style:{minWidth:"28em"},children:"Add Position"}),Object(g.jsxs)(W.a,{children:[Object(g.jsx)("br",{}),Object(g.jsxs)(G.a,{fullWidth:!0,children:[Object(g.jsx)(K.a,{children:"Position Type"}),Object(g.jsxs)(J.a,{value:r.type,label:"Position Type",onChange:function(t){return s.setType(t.target.value)},children:[Object(g.jsx)(Y.a,{value:""}),r.allTypes.map((function(t){return Object(g.jsx)(Y.a,{value:t,children:t},t)}))]})]}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(X.a,{fullWidth:!0,id:"outlined-basic",variant:"outlined",label:"Target Address",onChange:function(t){return s.setAddress(t.target.value)}}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{})]}),Object(g.jsx)($.a,{children:Object(g.jsx)(U.a,{size:"large",disabled:!r.valid,onClick:function(){return e.withLoading((function(){return c.addPosition(r.type,r.address)})).then(u)},children:"Add"})})]})})},At=function(){return Object(g.jsxs)("div",{style:{fontSize:"large",minWidth:"42em"},children:[Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"},children:[Object(g.jsx)(Mt,{}),Object(g.jsx)(Tt,{})]}),Object(g.jsx)("div",{}),Object(g.jsx)(Ct,{}),Object(g.jsx)("div",{}),Object(g.jsx)("br",{})]})},Mt=function(){var t=z(),e=Object(O.a)(t,2),n=e[0],a=e[1];return Object(g.jsx)(U.a,{variant:"contained",size:"large",onClick:a.connect,children:n?"Refresh":"Connect"})},Ct=function(){var t,e=R(),n=Object(O.a)(e,1)[0];return Object(g.jsxs)("div",{children:[Object(g.jsxs)("p",{children:["Network \ud83c\udf10 ",null===(t=n.network)||void 0===t?void 0:t.name]}),Object(g.jsxs)("p",{children:["Wallet \ud83d\udd11 ",n.wallet]}),Object(g.jsxs)("p",{children:["Balance \ud83d\udcb0 ",Object(D.fmt18)(n.balance)]})]})},Lt=n(534),St=n(4),Bt=n(195),Nt=Object(B.a)({name:"PositionDialogState",initialState:{position:null,useLegacy:!1,selectedMethod:"",selectedMethodArgs:{}},actions:{showPosition:function(t){return function(){var e=Object(C.a)(M.a.mark((function e(n){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.setState,(0,n.getState)().position!==t&&a({position:t,selectedMethod:"",selectedMethodArgs:{},useLegacy:!1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},closeDialog:function(){return function(){var t=Object(C.a)(M.a.mark((function t(e){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,e.setState)({position:null});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},selectMethod:function(t){return function(){var e=Object(C.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,n.setState)({selectedMethod:t,selectedMethodArgs:{}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setMethodArg:function(t,e){return function(){var n=Object(C.a)(M.a.mark((function n(a){var r,s;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=a.setState,s=a.getState,r({selectedMethodArgs:Object(Bt.a)(Object(Bt.a)({},s().selectedMethodArgs),{},Object(St.a)({},t,e))});case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},setUseLegacy:function(t){return function(){var e=Object(C.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,n.setState)({useLegacy:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},harvest:function(){return function(){var t=Object(C.a)(M.a.mark((function t(e){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getState,t.next=3,n().position.harvest(n().useLegacy);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},send:function(){return function(){var t=Object(C.a)(M.a.mark((function t(e){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getState,t.next=3,n().position.sendTransaction(n().selectedMethod,Z.a.values(n().selectedMethodArgs),n().useLegacy);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}),Dt=Object(N.a)(Nt,{selector:null}),Pt=Object(N.a)(Nt,{selector:Object(tt.a)((function(t){return t.position}),(function(t){var e;return(null===(e=t.position)||void 0===e?void 0:e.getContractMethods().filter((function(t){return!t.startsWith("0x")&&t.endsWith(")")})))||[]}),(function(t){return t.selectedMethod}),(function(t){return t.selectedMethod.substring(t.selectedMethod.indexOf("(")+1,t.selectedMethod.length-1).split(",").filter((function(t){return t.length>0}))}),(function(t){return t.useLegacy}),(function(t,e,n,a,r){return{position:t,positionMethods:e,selectedMethod:n,selectedMethodArgTypes:a,useLegacy:r}}))}),Et=[{field:"type",headerName:"Type",width:300,align:"left"},{field:"health",headerName:"Health",width:60,align:"center"},{field:"value",headerName:"Market Value",width:100,align:"right"},{field:"pending",headerName:"Pending",width:100,align:"right"},{field:"tvl",headerName:"TVL",width:150,align:"right"}],qt=function(){var t=R(),e=Object(O.a)(t,2),n=e[0],r=e[1],s=vt(null),i=Object(O.a)(s,2),c=i[0],u=i[1],o=gt(),l=Object(O.a)(o,1)[0],d=Dt(),p=Object(O.a)(d,2)[1];Object(a.useEffect)((function(){n.network.id&&r.withLoading(u.load).then()}),[n.network,r,u]);return Object(g.jsx)("div",{style:{height:500,width:"90%"},children:Object(g.jsx)(Lt.a,{rows:c,columns:Et,onCellClick:function(t){return p.showPosition(l[t.id.toString()])}})})},_t=n(1150),Ft=n(1151),It=n(1092),Rt=n(1087),zt=function(){var t,e,n,a,r,s,i=R(),c=Object(O.a)(i,2)[1],u=Pt(null),o=Object(O.a)(u,2),l=o[0],d=o[1],p=gt(),h=Object(O.a)(p,2)[1],f=function(){return d.closeDialog()};return Object(g.jsx)("div",{children:Object(g.jsxs)(V.a,{open:!!l.position,onClose:f,children:[Object(g.jsxs)(H.a,{children:["Send Transaction to ",null===(t=l.position)||void 0===t||null===(e=t.getArgs())||void 0===e?void 0:e.type]}),Object(g.jsxs)(W.a,{children:[Object(g.jsxs)(_t.a,{children:["Network: ",null===(n=l.position)||void 0===n||null===(a=n.getNetwork())||void 0===a?void 0:a.name]}),Object(g.jsxs)(_t.a,{children:["Address: ",null===(r=l.position)||void 0===r||null===(s=r.getArgs())||void 0===s?void 0:s.address]}),Object(g.jsx)("br",{}),Object(g.jsxs)(G.a,{fullWidth:!0,children:[Object(g.jsx)(K.a,{children:"Method"}),Object(g.jsx)(J.a,{value:l.selectedMethod,label:"Method",onChange:function(t){return d.selectMethod(t.target.value)},children:l.positionMethods.map((function(t){return Object(g.jsx)(Y.a,{value:t,children:t},t)}))})]}),Object(g.jsx)("br",{}),l.selectedMethodArgTypes.length>0&&l.selectedMethodArgTypes.map((function(t,e){return Object(g.jsx)(X.a,{autoFocus:!0,margin:"dense",id:t+e,label:t,type:"text",fullWidth:!0,variant:"standard",onChange:function(t){return d.setMethodArg(e,t.target.value)}},t+e)})),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsx)(Ft.a,{children:Object(g.jsx)(It.a,{control:Object(g.jsx)(Rt.a,{checked:l.useLegacy,onChange:function(t){return d.setUseLegacy(t.target.checked)}}),label:"Use Legacy Transaction Type"})})]}),Object(g.jsxs)($.a,{children:[Object(g.jsx)(U.a,{onClick:function(){return c.withLoading((function(){return h.delete(l.position.getArgs().id)})).then(f)},children:"Delete Position"}),Object(g.jsx)(U.a,{onClick:function(){return c.withLoading((function(){return d.harvest()})).then(f)},children:"Just Harvest"}),Object(g.jsx)(U.a,{disabled:!l.selectedMethod,onClick:function(){return c.withLoading((function(){return d.send()})).then(f)},children:"Send Custom Transaction"})]})]})})},Ut=Object(w.a)({palette:{mode:"dark"}}),Vt=function(){var t=R(),e=Object(O.a)(t,1)[0];return Object(g.jsx)(T.a,{sx:{color:"#fff",zIndex:function(t){return t.zIndex.modal+1}},open:e.loading,children:Object(g.jsx)(k.a,{color:"inherit"})})};i.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(u.a,{children:Object(g.jsx)("div",{children:Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{path:"/dashboard",component:function(){return Object(g.jsx)(x.a,{theme:Ut,children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(At,{}),Object(g.jsx)(qt,{}),Object(g.jsxs)("div",{children:[Object(g.jsx)(kt,{}),Object(g.jsx)(zt,{})]}),Object(g.jsx)("div",{children:Object(g.jsx)(Vt,{})})]})})}}),Object(g.jsx)(o.a,{path:"/",component:function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"PartnersSection row",style:{paddingTop:"0px"},children:Object(g.jsxs)("div",{className:"LogoSection column",children:[Object(g.jsx)("div",{className:"StrategicPartnersLabel large",children:"MANAGING PARTNERS"}),Object(g.jsx)("div",{className:"StrategicPartnersList row",style:{marginTop:"25px"},children:Object(g.jsx)("a",{className:"OrbsLogo",href:"https://www.orbs.com",children:Object(g.jsx)("img",{className:"OrbsLogo",src:l,alt:"Orbs"})})})]})}),Object(g.jsxs)("div",{className:"TitleSection column",children:[Object(g.jsx)("img",{className:"logo",src:d}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("h1",{children:["DeFi",Object(g.jsx)("span",{className:"small",children:".js"})]}),Object(g.jsx)("p",{children:"Community-led initiative to standardize the management of Decentralized Finance positions programmatically"})]}),Object(g.jsx)("p",{children:"UNDER CONSTRUCTION"})]}),Object(g.jsxs)("div",{className:"LightSection column spaced",children:[Object(g.jsx)("h3",{children:"Simplify and standardize DeFi position management"}),Object(g.jsxs)("div",{className:"IconList row",children:[Object(g.jsxs)("div",{className:"column",children:[Object(g.jsx)("img",{src:p}),Object(g.jsx)("p",{children:"Discover and quickly assess leading DeFi protocol strategies"})]}),Object(g.jsxs)("div",{className:"column",children:[Object(g.jsx)("img",{src:h}),Object(g.jsx)("p",{children:"Monitor key position properties ex. APY, TVL, rewards"})]}),Object(g.jsxs)("div",{className:"column",children:[Object(g.jsx)("img",{src:f}),Object(g.jsx)("p",{children:"Monitor position health and governance"})]}),Object(g.jsxs)("div",{className:"column",children:[Object(g.jsx)("img",{src:y}),Object(g.jsx)("p",{children:"Compare historical performances between strategies"})]}),Object(g.jsxs)("div",{className:"column",children:[Object(g.jsx)("img",{src:m}),Object(g.jsx)("p",{children:"Composability and interop with the ecosystem"})]})]})]}),Object(g.jsxs)("div",{className:"DarkSection row DarkAbstract",children:[Object(g.jsx)("div",{className:"Half column",children:Object(g.jsxs)("div",{className:"SectionTitle",children:[Object(g.jsx)("h2",{children:"THE API"}),Object(g.jsx)("img",{src:b})]})}),Object(g.jsx)("div",{className:"Half column",children:Object(g.jsxs)("ul",{className:"BulletList",children:[Object(g.jsx)("li",{children:"getNetwork(): Network"}),Object(g.jsx)("li",{children:"getAssets(): Token[]"}),Object(g.jsx)("li",{children:"getRewardAssets(): Token[]"}),Object(g.jsx)("li",{children:"getTVL(): Promise<BN>"}),Object(g.jsx)("li",{children:"getAPR(): Promise<BN>"}),Object(g.jsx)("li",{children:"getHealth(): Promise<Threat[]>"}),Object(g.jsx)("li",{children:"getPendingRewards(): Promise<TokenAmount[]>"})]})})]}),Object(g.jsxs)("div",{className:"Footer row",children:[Object(g.jsx)("span",{children:"\xa9 2020 defi.org"}),Object(g.jsx)("a",{href:"https://www.announcements.defi.org/",children:"Announcements"}),Object(g.jsx)("a",{href:"https://www.privacypolicies.com/generic/",children:"Privacy"}),Object(g.jsx)("a",{href:"https://github.com/defi-org-code",children:"GitHub"}),Object(g.jsx)("a",{href:"https://t.me/defiorg",children:"Telegram"}),Object(g.jsx)("a",{href:"mailto:hello@defi.org",children:"hello@defi.org"})]}),Object(g.jsxs)("div",{id:"geometry_container",hidden:!0,children:[Object(g.jsx)("div",{style:{width:"15%",maxWidth:"180px",position:"absolute",left:"15%",top:"-70px"},children:Object(g.jsx)("img",{src:j,width:"100%"})}),Object(g.jsx)("div",{style:{width:"15%",maxWidth:"360px",position:"absolute",left:"70%",top:"20px"},children:Object(g.jsx)("img",{src:v,width:"100%"})})]})]})}})]})})})}),document.getElementById("root")),c(console.log)},198:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var a,r=n(3),s=n.n(r),i=n(9),c=n(11),u=n(17),o=n(21),l=n(7),d=n(55),p=n(39),h=n.n(p);!function(e){var n=new d.ProxyProvider("https://gateway.elrond.com",{timeout:6e4}),a=function(){return y("EGLD","WEGLD-bd4d79",18)},r=function(){return y("USDC","USDC-c76f1f",6)},p=function(){return y("MEX","MEX-455c57",18)},f=(e.Strategies={USDC_EGLD:function(){return{assets:[r(),a()],pool:"erd1qqqqqqqqqqqqqpgqeel2kumf0r8ffyhth7pqdujjat9nx0862jpsg2pqaq",farm:"erd1qqqqqqqqqqqqqpgqsw9pssy8rchjeyfh8jfafvl3ynum0p9k2jps6lwewp"}},MEX_EGLD:function(){return{assets:[p(),a()],pool:"erd1qqqqqqqqqqqqqpgqa0fsfshnff4n76jhcye6k7uvd7qacsq42jpsp6shh2",farm:"erd1qqqqqqqqqqqqqpgqye633y7k0zd7nedfnp3m48h24qygm5jl2jpslxallh"}}},function(){function t(e,n,a){var r=this;Object(u.a)(this,t),this.args=e,this.oracle=n,this.strategy=a,this.data={amount0:l.zero,amount1:l.zero,value0:l.zero,value1:l.zero,rewardAmount:l.zero,rewardValue:l.zero,balanceEGLD:l.zero,tvl:l.zero},this.getArgs=function(){return r.args},this.getNetwork=function(){return{id:-508,name:"Elrond",shortname:"egld"}},this.getAssets=function(){return r.strategy.assets},this.getRewardAssets=function(){return[p()]},this.getData=function(){return r.data},this.getHealth=function(){return[]},this.getAmounts=function(){return[{asset:r.strategy.assets[0],amount:r.data.amount0,value:r.data.value0},{asset:r.strategy.assets[1],amount:r.data.amount1,value:r.data.value1}]},this.getPendingRewards=function(){return[]},this.getTVL=function(){return r.data.tvl},this.getContractMethods=function(){return[]}}return Object(o.a)(t,[{key:"load",value:function(){var t=Object(c.a)(s.a.mark((function t(){var e,a,r,c,u,o,p,f,y,j,v,g,O,w,x,T,k,A,M,C,L,S,B,N,D=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new d.Address(this.args.address),a=new d.SmartContract({address:new d.Address(this.strategy.pool)}),r=new d.SmartContract({address:new d.Address(this.strategy.farm)}),t.next=5,Promise.all([n.getAccount(e).then((function(t){return Object(l.bn)(t.balance.toString())})),n.getAddressEsdtList(e),b(r,"getFarmingTokenReserve").then((function(t){return m(t[0])})),b(r,"getFarmTokenSupply").then((function(t){return m(t[0])})),b(a,"getFirstTokenId").then((function(t){return t[0]})),b(a,"getReservesAndTotalSupply").then((function(t){return t.map(m)}))]);case 5:return c=t.sent,u=Object(i.a)(c,6),o=u[0],p=u[1],f=u[2],y=u[3],j=u[4],v=u[5],this.data.balanceEGLD=o,g=h.a.filter(p,(function(t){return t.creator===D.strategy.farm})),O=g.map((function(t){return Object(l.bn)(t.balance)})).reduce((function(t,e){return t.add(e)}),l.zero),w=O.mul(l.ether).div(y),x=f.mul(w).div(l.ether),T=Object(i.a)(v,3),k=T[0],A=T[1],M=T[2],C=x.mul(l.ether).div(M),L=Object(l.to18)(this.strategy.assets[0].tokenId===j[0]?k:A,this.strategy.assets[0].dec),S=Object(l.to18)(this.data.amount0===k?A:k,this.strategy.assets[1].dec),this.data.amount0=C.mul(L).div(l.ether),this.data.amount1=C.mul(S).div(l.ether),t.next=26,Promise.all([this.oracle.valueOf(this.strategy.assets[0],this.data.amount0),this.oracle.valueOf(this.strategy.assets[1],this.data.amount1),this.oracle.valueOf(this.strategy.assets[0],L.muln(2).mul(f).div(M))]);case 26:B=t.sent,N=Object(i.a)(B,3),this.data.value0=N[0],this.data.value1=N[1],this.data.tvl=N[2];case 31:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var t=Object(c.a)(s.a.mark((function t(e,n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"harvest",value:function(){var t=Object(c.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}());function y(t,e,n){var a=Object(l.erc20)(t,l.zeroAddress);return a.esdt=!0,a.tokenId=e,a.dec=n,a}function m(e){return Object(l.bn)(t.from(e,"base64").toString("hex"),16)}function b(t,e){return t.runQuery(n,{func:new d.ContractFunction(e)}).then((function(t){return t.returnData}))}e.Farm=f}(a||(a={}))}).call(this,n(14).Buffer)},572:function(t,e,n){},573:function(t,e,n){},575:function(t,e,n){},591:function(t,e){},593:function(t,e){},597:function(t,e){},598:function(t,e){},623:function(t,e){},625:function(t,e){},640:function(t,e){},642:function(t,e){},658:function(t,e){},676:function(t,e){},678:function(t,e){},692:function(t,e){},693:function(t,e){},760:function(t,e){},762:function(t,e){},768:function(t,e){},780:function(t,e){},783:function(t,e){},788:function(t,e){},972:function(t,e){},973:function(t,e,n){var a={"./bls.js":479,"./bls_c.js":480};function r(t){var e=s(t);return n(e)}function s(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=s,t.exports=r,r.id=973}},[[1076,1,2]]]);
//# sourceMappingURL=main.de55e965.chunk.js.map