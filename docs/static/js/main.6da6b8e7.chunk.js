(this["webpackJsonpdefi-js.github.io"]=this["webpackJsonpdefi-js.github.io"]||[]).push([[0],{121:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,s=n(36),r=n.n(s),i=n(15),u=n.n(i),c=n(31),o=n(17),p=n(19),l=n(64),d=n.n(l),y=n(14),m={eth:"ethereum",bsc:"binance-smart-chain",poly:"polygon-pos"},f=function(){function e(){Object(o.a)(this,e),this.prices={}}return Object(p.a)(e,[{key:"fetchPrices",value:function(){var e=Object(c.a)(u.a.mark((function e(){var t,n,a,s,i,c,o,p,l=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.getNetwork)();case 2:for(t=e.sent,n=r.a.find(m,(function(e,n){return n==t.shortname})),a=l.length,s=new Array(a),i=0;i<a;i++)s[i]=l[i];return e.next=7,fetch("https://api.coingecko.com/api/v3/simple/token_price/".concat(n,"?contract_addresses=").concat(s.join(","),"&vs_currencies=usd"));case 7:return c=e.sent,e.next=10,c.json();case 10:if(o=e.sent,p=r()(o).mapKeys((function(e,t){return d.a.utils.toChecksumAddress(t)})).mapValues((function(e){return Object(y.bn18)(e.usd)})).value(),!r.a.isEmpty(p)){e.next=14;break}throw new Error("no price for ".concat(s));case 14:return r.a.merge(this.prices,p),e.abrupt("return",p);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"valueOf",value:function(){var e=Object(c.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.prices[t.address]){e.next=3;break}return e.next=3,this.fetchPrices(t.address);case 3:return e.abrupt("return",n.mul(this.prices[t.address]).div(y.ether));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),b={};!function(e){var t=new f;e.register=function(e){r.a.merge(b,e)},e.allTypes=function(){return r.a.keys(b)},e.create=function(e){if(!b[e.type])throw new Error("unknown type ".concat(e.type," for ").concat(JSON.stringify(e)));return e.id||(e.id=r.a.uniqueId(e.type)),b[e.type](e,t)}}(a||(a={}))},373:function(e,t,n){},374:function(e,t,n){},376:function(e,t,n){},392:function(e,t){},394:function(e,t){},398:function(e,t){},399:function(e,t){},426:function(e,t){},428:function(e,t){},443:function(e,t){},445:function(e,t){},461:function(e,t){},479:function(e,t){},481:function(e,t){},497:function(e,t){},498:function(e,t){},567:function(e,t){},569:function(e,t){},575:function(e,t){},587:function(e,t){},590:function(e,t){},595:function(e,t){},705:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogBorrow","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogDeposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogRepay","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogWithdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"AUSDC","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"BASE_PERCENT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEBT_TOKEN","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LENDING_POOL","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"LIQUIDITY_MINING","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"REWARD_TOKEN","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDC","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"_borrow","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"_deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"_repay","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"_withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimRewardsToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"emergencyFunctionCall","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"emergencyFunctionDelegateCall","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"iterations","type":"uint256"}],"name":"enterPosition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"maxIterations","type":"uint256"}],"name":"exitPosition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getBalanceAUSDC","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalanceDebtToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalanceReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBalanceUSDC","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPositionData","outputs":[{"internalType":"uint256","name":"totalCollateralETH","type":"uint256"},{"internalType":"uint256","name":"totalDebtETH","type":"uint256"},{"internalType":"uint256","name":"availableBorrowsETH","type":"uint256"},{"internalType":"uint256","name":"currentLiquidationThreshold","type":"uint256"},{"internalType":"uint256","name":"ltv","type":"uint256"},{"internalType":"uint256","name":"healthFactor","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawAllUSDCToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"asset","type":"address"}],"name":"withdrawToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},706:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_manager","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"LogBorrow","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"LogMint","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"LogRedeem","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"LogRedeemUnderlying","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"LogRepay","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"prevManager","type":"address"},{"indexed":false,"internalType":"address","name":"newManager","type":"address"}],"name":"ManagerUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"COMP","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CUSDC","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"UNITROLLER","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDC","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"borrow","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"borrowBalanceCurrent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"cTokenBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claimAndTransferAllCompToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimComp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"holders","type":"address[]"},{"internalType":"address[]","name":"cTokens","type":"address[]"},{"internalType":"bool","name":"borrowers","type":"bool"},{"internalType":"bool","name":"suppliers","type":"bool"}],"name":"claimComp","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"asset_","type":"address"},{"internalType":"address","name":"to_","type":"address"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"emergencySafeTransferAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"destination","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"uint256","name":"gasLimit","type":"uint256"}],"name":"emergencySubmitTransaction","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"tokens_","type":"address[]"},{"internalType":"address","name":"to_","type":"address"}],"name":"emergencyTransferAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"asset_","type":"address"},{"internalType":"address","name":"to_","type":"address"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"emergencyTransferAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"enterMarkets","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"minAmountIn","type":"uint256"},{"internalType":"uint256","name":"borrowRatioNum","type":"uint256"},{"internalType":"uint256","name":"borrowRatioDenom","type":"uint256"}],"name":"enterPosition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"maxIterations","type":"uint256"},{"internalType":"uint256","name":"redeemRatioNum","type":"uint256"},{"internalType":"uint256","name":"redeemRatioDenom","type":"uint256"}],"name":"exitPosition","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAccountLiquidity","outputs":[{"internalType":"uint256","name":"err","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"shortfall","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAccountLiquidityWithInterest","outputs":[{"internalType":"uint256","name":"err","type":"uint256"},{"internalType":"uint256","name":"accountLiquidity","type":"uint256"},{"internalType":"uint256","name":"accountShortfall","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mintCToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"redeemCToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"redeemUnderlying","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"repayBorrow","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"repayBorrowAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"src","type":"address"}],"name":"safeTransferAssetToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"safeTransferUSDCToOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"setApprove","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newManager","type":"address"}],"name":"setManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"src_","type":"address"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"underlyingBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},716:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(66),i=n.n(r),u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,787)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))},c=n(339),o=n(35),p=(n(373),n(374),n.p+"static/media/orbs.edf8d68f.png"),l=n.p+"static/media/logo.c2738899.svg",d=n.p+"static/media/list-icon1.18bcd298.svg",y=n.p+"static/media/list-icon2.4b928706.svg",m=n.p+"static/media/list-icon3.596f4d83.svg",f=n.p+"static/media/list-icon4.cd9ac7ff.svg",b=n.p+"static/media/list-icon5.5be90266.svg",h=n.p+"static/media/dotted-line.a7040ce9.svg",j=n.p+"static/media/geom1.75a84b0d.png",v=n.p+"static/media/geom2.3a3b2e04.png",O=n(2),x=n(104),g=n(9),w=(n(376),n(341)),T=n(781),k=n(782),A=n(728),N=n(720),M=n(105),S=n(779),C=n(729),L=n(142),_=n(224),P=n(170),D=n(70),B=n(225),R=n(785),I=n(776),E=n(15),U=n.n(E),F=n(31),H=n(64),W=n.n(H),J=n(51),q=n(786),V=n(777),z=n(14);J.a.middlewares.add((function(e){return function(t){return function(n){var a=t(n);return console.log(e.key,":",e.getState()),a}}}));var K=Object(q.a)({name:"AppState",initialState:{loading:!1,useLegacyTx:!1,wallet:"",balance:z.zero,network:{}},actions:{setUseLegacyTx:function(e){return function(t){var n=t.setState;t.dispatch;n({useLegacyTx:e})}},connect:function(){return function(){var e=Object(F.a)(U.a.mark((function e(t){var n,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setState,a=t.dispatch,e.next=3,a(Y)(Object(F.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.ethereum){e.next=4;break}return alert("install metamask"),e.abrupt("return");case 4:return Object(z.setWeb3Instance)(new W.a(t)),t.enable(),t.on("accountsChanged",(function(){G(n)})),t.on("networkChanged",(function(){G(n)})),e.next=10,G(n);case 10:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}}),Y=function(e){return function(){var t=Object(F.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,n();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert("".concat(t.t0.message));case 9:return t.prev=9,e.setState({loading:!1}),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(e){return t.apply(this,arguments)}}()};function G(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(F.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.account)();case 2:return n=e.sent,e.t0=t,e.t1=n,e.next=7,Object(z.getNetwork)();case 7:return e.t2=e.sent,e.t3=z.bn,e.next=11,Object(z.web3)().eth.getBalance(n);case 11:e.t4=e.sent,e.t5=(0,e.t3)(e.t4),e.t6={wallet:e.t1,network:e.t2,balance:e.t5},(0,e.t0)(e.t6);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=Object(V.a)(K),$=n(36),X=n.n($),ee=n(342),te=n(121);n(717);var ne=Object(q.a)({name:"PositionsState",initialState:{positions:{},positions_resolved:{}},actions:{load:function(){return function(){var e=Object(F.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,e.next=3,n(ae);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addPosition:function(e){return function(){var t=Object(F.a)(U.a.mark((function t(n){var a,s,r,i;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.getState,s=n.dispatch,r=te.a.create(e),t.t0=r.getNetwork(),t.next=5,Object(z.getNetwork)();case 5:if(t.t1=t.sent,t.t0==t.t1){t.next=8;break}throw new Error("wrong network");case 8:return(i=X.a.mapValues(a().positions,(function(e){return e.getArgs()})))[r.getArgs().id]=r.getArgs(),localStorage.setItem("positions",JSON.stringify(i)),t.next=13,s(ae);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},claim:function(e,t){return function(){var n=Object(F.a)(U.a.mark((function n(a){var s;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.getState,n.next=3,s().positions[e].claim(t);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},delete:function(e){return function(){var t=Object(F.a)(U.a.mark((function t(n){var a,s,r,i;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.getState,s=n.dispatch,delete(r=X.a.mapValues(a().positions,(function(e){return e.getArgs()})))[e],localStorage.setItem("positions",JSON.stringify(r)),delete(i=JSON.parse(localStorage.getItem("positions_resolved")||"{}"))[e],localStorage.setItem("positions_resolved",JSON.stringify(i)),t.next=9,s(ae);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}});function ae(e){return se.apply(this,arguments)}function se(){return(se=Object(F.a)(U.a.mark((function e(t){var n,a,s,r,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("LOAD"),n=t.setState,a=JSON.parse(localStorage.getItem("positions")||"{}"),s=X.a.mapValues(a,(function(e){return te.a.create(e)})),n({positions:s}),r=JSON.parse(localStorage.getItem("positions_resolved")||"{}"),e.next=8,re(s);case 8:i=e.sent,X.a.merge(r,X.a.mapKeys(i,(function(e){return e.id}))),localStorage.setItem("positions_resolved",JSON.stringify(r)),n({positions_resolved:r});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ie.apply(this,arguments)}function ie(){return ie=Object(F.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(z.getNetwork)();case 2:return n=e.sent,e.next=5,Promise.all(X()(t).values().filter((function(e){return e.getNetwork().id==n.id})).map(function(){var e=Object(F.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.getArgs().id,e.t1=t.getArgs().type,e.t2=oe,e.next=5,t.getAmounts();case 5:return e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t5=oe,e.next=10,t.getPendingRewards();case 10:return e.t6=e.sent,e.t7=(0,e.t5)(e.t6),e.t8=pe,e.next=15,t.getHealth();case 15:return e.t9=e.sent,e.t10=(0,e.t8)(e.t9),e.abrupt("return",{id:e.t0,type:e.t1,amounts:e.t4,pending:e.t7,health:e.t10});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).value());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}var ue=Object(V.a)(ne,{selector:function(e){return X.a.values(e.positions_resolved)}}),ce=Object(V.a)(ne,{selector:Object(ee.a)((function(e){return null}),(function(e,t){return t}),(function(e,t){return{allTypes:te.a.allTypes(),isValid:W.a.utils.isAddress(t.user)&&W.a.utils.isAddress(t.address)}}))});function oe(e){return X()(e).map((function(e){return"".concat(e.asset.name,": ").concat(Object(z.fmt18)(e.amount).split(".")[0]," = $").concat(Object(z.fmt18)(e.value).split(".")[0])})).join(" + ")}function pe(e){return e.length?e.map((function(e){return e.message})).join("\u26a0\ufe0f"):"\ud83d\udfe2"}var le=n(338),de=Object(w.a)({palette:{mode:"dark"}}),ye=function(){var e=Z(),t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(O.jsx)(k.a,{children:Object(O.jsx)(A.a,{control:Object(O.jsx)(N.a,{checked:n.useLegacyTx,onChange:function(e){return a.setUseLegacyTx(e.target.checked)}}),label:"Use Legacy Transaction"})})},me=function(){var e=Z(),t=Object(g.a)(e,2),n=t[0],a=t[1],s=W.a.utils.isAddress(n.wallet);return Object(O.jsx)(M.a,{variant:"contained",size:"large",onClick:a.connect,children:s?"Refresh":"Connect"})},fe=function(){var e,t=Z(),n=Object(g.a)(t,1)[0];return Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:["Network \ud83c\udf10 ",null===(e=n.network)||void 0===e?void 0:e.name]}),Object(O.jsxs)("p",{children:["Wallet \ud83d\udd11 ",n.wallet]}),Object(O.jsxs)("p",{children:["Balance \ud83d\udcb0 ",Object(z.fmt18)(n.balance)," ETH"]})]})},be=function(){var e=Z(),t=Object(g.a)(e,1)[0];return Object(O.jsx)(S.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:t.loading,children:Object(O.jsx)(C.a,{color:"inherit"})})},he=function(){var e=Object(a.useState)((function(){return{}})),t=Object(g.a)(e,2),n=t[0],s=t[1],r=ce(n),i=Object(g.a)(r,2),u=i[0],c=i[1];return Object(O.jsxs)("div",{children:[Object(O.jsxs)(L.a,{sx:{width:"100%"},children:[Object(O.jsx)(_.a,{id:"demo-simple-select-label",children:"Position Type"}),Object(O.jsxs)(P.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n.type||"",label:"Position Type",onChange:function(e){return s(Object(x.a)(Object(x.a)({},n),{},{type:e.target.value}))},children:[Object(O.jsx)(D.a,{value:""}),u.allTypes.map((function(e){return Object(O.jsx)(D.a,{value:e,children:e},e)}))]})]}),Object(O.jsx)(B.a,{sx:{marginTop:"2%"},fullWidth:!0,id:"outlined-basic",variant:"outlined",label:"Target Address",onChange:function(e){return s(Object(x.a)(Object(x.a)({},n),{},{address:e.target.value}))}}),Object(O.jsx)(B.a,{sx:{marginTop:"2%"},fullWidth:!0,id:"outlined-basic",variant:"outlined",label:"User Address",onChange:function(e){return s(Object(x.a)(Object(x.a)({},n),{},{user:e.target.value}))}}),Object(O.jsx)(M.a,{sx:{marginTop:"2%"},variant:"contained",size:"large",onClick:function(){return c.addPosition(n).then((function(){return s({})}))},disabled:!u.isValid||!n.type,children:"Add Position"})]})},je=[{field:"type",headerName:"Type",width:500},{field:"amounts",headerName:"Amounts",width:500},{field:"pending",headerName:"Pending",width:200},{field:"health",headerName:"Health",width:50},{field:"claim",headerName:"Claim",width:50,type:"actions",renderCell:function(e){var t=Z(),n=Object(g.a)(t,1)[0],a=ue(),s=Object(g.a)(a,2)[1];return Object(O.jsx)(R.a,{onClick:function(){return s.claim(e.id,n.useLegacyTx)},children:Object(O.jsx)(I.a,{primary:"Claim"})})}},{field:"delete",headerName:"Delete",width:50,type:"actions",renderCell:function(e){var t=Object(a.useState)(0),n=Object(g.a)(t,2),s=n[0],r=n[1],i=ue(),u=Object(g.a)(i,2)[1];return Object(O.jsx)(R.a,{onClick:function(){if(s>4)return r(0),u.delete(e.id);r(s+1)},children:Object(O.jsx)(I.a,{primary:"Delete"})})}}],ve=function(){var e=Z(),t=Object(g.a)(e,1)[0],n=ue(),s=Object(g.a)(n,2),r=s[0],i=s[1];return Object(a.useMemo)((function(){t.network.id&&i.load().then()}),[t.network,i]),Object(O.jsx)("div",{style:{height:500,width:"90%"},children:Object(O.jsx)(le.a,{rows:r,columns:je})})};i.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(c.a,{children:Object(O.jsx)("div",{children:Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{path:"/dashboard",component:function(){return Object(O.jsx)(T.a,{theme:de,children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)("div",{className:"Header",children:[Object(O.jsx)("p",{}),Object(O.jsxs)("div",{className:"Connect",children:[Object(O.jsx)(me,{}),Object(O.jsx)(ye,{})]}),Object(O.jsx)("p",{}),Object(O.jsx)(fe,{}),Object(O.jsx)("p",{})]}),Object(O.jsx)("p",{}),Object(O.jsx)(he,{}),Object(O.jsx)("p",{}),Object(O.jsx)(ve,{}),Object(O.jsx)("p",{}),Object(O.jsx)("div",{children:Object(O.jsx)(be,{})})]})})}}),Object(O.jsx)(o.a,{path:"/",component:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"PartnersSection row",style:{paddingTop:"0px"},children:Object(O.jsxs)("div",{className:"LogoSection column",children:[Object(O.jsx)("div",{className:"StrategicPartnersLabel large",children:"MANAGING PARTNERS"}),Object(O.jsx)("div",{className:"StrategicPartnersList row",style:{marginTop:"25px"},children:Object(O.jsx)("a",{className:"OrbsLogo",href:"https://www.orbs.com",children:Object(O.jsx)("img",{className:"OrbsLogo",src:p,alt:"Orbs"})})})]})}),Object(O.jsxs)("div",{className:"TitleSection column",children:[Object(O.jsx)("img",{className:"logo",src:l}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("h1",{children:["DeFi",Object(O.jsx)("span",{className:"small",children:".js"})]}),Object(O.jsx)("p",{children:"Community-led initiative to standardize the management of Decentralized Finance positions programmatically"})]}),Object(O.jsx)("p",{children:"UNDER CONSTRUCTION"})]}),Object(O.jsxs)("div",{className:"LightSection column spaced",children:[Object(O.jsx)("h3",{children:"Simplify and standardize DeFi position management"}),Object(O.jsxs)("div",{className:"IconList row",children:[Object(O.jsxs)("div",{className:"column",children:[Object(O.jsx)("img",{src:d}),Object(O.jsx)("p",{children:"Discover and quickly assess leading DeFi protocol strategies"})]}),Object(O.jsxs)("div",{className:"column",children:[Object(O.jsx)("img",{src:y}),Object(O.jsx)("p",{children:"Monitor key position properties ex. APY, TVL, rewards"})]}),Object(O.jsxs)("div",{className:"column",children:[Object(O.jsx)("img",{src:m}),Object(O.jsx)("p",{children:"Monitor position health and governance"})]}),Object(O.jsxs)("div",{className:"column",children:[Object(O.jsx)("img",{src:f}),Object(O.jsx)("p",{children:"Compare historical performances between strategies"})]}),Object(O.jsxs)("div",{className:"column",children:[Object(O.jsx)("img",{src:b}),Object(O.jsx)("p",{children:"Composability and interop with the ecosystem"})]})]})]}),Object(O.jsxs)("div",{className:"DarkSection row DarkAbstract",children:[Object(O.jsx)("div",{className:"Half column",children:Object(O.jsxs)("div",{className:"SectionTitle",children:[Object(O.jsx)("h2",{children:"THE API"}),Object(O.jsx)("img",{src:h})]})}),Object(O.jsx)("div",{className:"Half column",children:Object(O.jsxs)("ul",{className:"BulletList",children:[Object(O.jsx)("li",{children:"getNetwork(): Network"}),Object(O.jsx)("li",{children:"getAssets(): Token[]"}),Object(O.jsx)("li",{children:"getRewardAssets(): Token[]"}),Object(O.jsx)("li",{children:"getTVL(): Promise<BN>"}),Object(O.jsx)("li",{children:"getAPR(): Promise<BN>"}),Object(O.jsx)("li",{children:"getHealth(): Promise<Threat[]>"}),Object(O.jsx)("li",{children:"getPendingRewards(): Promise<TokenAmount[]>"})]})})]}),Object(O.jsxs)("div",{className:"Footer row",children:[Object(O.jsx)("span",{children:"\xa9 2020 defi.org"}),Object(O.jsx)("a",{href:"https://www.announcements.defi.org/",children:"Announcements"}),Object(O.jsx)("a",{href:"https://www.privacypolicies.com/generic/",children:"Privacy"}),Object(O.jsx)("a",{href:"https://github.com/defi-org-code",children:"GitHub"}),Object(O.jsx)("a",{href:"https://t.me/defiorg",children:"Telegram"}),Object(O.jsx)("a",{href:"mailto:hello@defi.org",children:"hello@defi.org"})]}),Object(O.jsxs)("div",{id:"geometry_container",hidden:!0,children:[Object(O.jsx)("div",{style:{width:"15%",maxWidth:"180px",position:"absolute",left:"15%",top:"-70px"},children:Object(O.jsx)("img",{src:j,width:"100%"})}),Object(O.jsx)("div",{style:{width:"15%",maxWidth:"360px",position:"absolute",left:"70%",top:"20px"},children:Object(O.jsx)("img",{src:v,width:"100%"})})]})]})}})]})})})}),document.getElementById("root")),u(console.log)},717:function(e,t,n){"use strict";n.r(t);var a,s,r,i=n(121),u=n(14),c=n(9),o=n(15),p=n.n(o),l=n(31),d=n(17),y=n(19);!function(e){var t=function(){function e(t,n,a,s,r,i){Object(d.a)(this,e),this.args=t,this.oracle=n,this.asset0=a,this.asset1=s,this.lpToken=r,this.poolId=i,this.masterchef=u.contracts.bsc.Pancakeswap_Masterchef(),this.cake=u.erc20s.bsc.CAKE(),t.address=this.masterchef.options.address}return Object(y.a)(e,[{key:"getArgs",value:function(){return this.args}},{key:"getNetwork",value:function(){return u.networks.bsc}},{key:"getAssets",value:function(){return[this.asset0,this.asset1]}},{key:"getRewardAssets",value:function(){return[this.cake]}},{key:"getHealth",value:function(){var e=Object(l.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAmounts",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t,n,a,s,r,i,o,l,d,y,m,f,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Promise,e.next=3,this.masterchef.methods.userInfo(this.poolId,this.args.user).call();case 3:return e.t1=e.sent,e.next=6,this.lpToken.methods.getReserves().call();case 6:return e.t2=e.sent,e.next=9,this.lpToken.methods.token0().call();case 9:return e.t3=e.sent,e.next=12,this.lpToken.methods.totalSupply().call();case 12:return e.t4=e.sent,e.t5=[e.t1,e.t2,e.t3,e.t4],e.next=16,e.t0.all.call(e.t0,e.t5);case 16:return t=e.sent,n=Object(c.a)(t,4),a=n[0],s=n[1],r=n[2],i=n[3],o=s._reserve0,l=s._reserve1,d=r.toLowerCase()==this.asset0.address.toLowerCase()?o:l,y=d==o?l:o,m=Object(u.bn)(a.amount),f=Object(u.bn)(d).mul(m).div(Object(u.bn)(i)),b=Object(u.bn)(y).mul(m).div(Object(u.bn)(i)),e.t6=this.asset0,e.t7=f,e.next=32,this.oracle.valueOf(this.asset0,f);case 32:return e.t8=e.sent,e.t9={asset:e.t6,amount:e.t7,value:e.t8},e.t10=this.asset1,e.t11=b,e.next=38,this.oracle.valueOf(this.asset1,b);case 38:return e.t12=e.sent,e.t13={asset:e.t10,amount:e.t11,value:e.t12},e.abrupt("return",[e.t9,e.t13]);case 41:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPendingRewards",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u.bn,e.next=3,this.masterchef.methods.pendingCake(this.poolId,this.args.user).call();case 3:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.t2=this.cake,e.t3=t,e.next=9,this.oracle.valueOf(this.cake,t);case 9:return e.t4=e.sent,e.t5={asset:e.t2,amount:e.t3,value:e.t4},e.abrupt("return",[e.t5]);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"claim",value:function(){var e=Object(l.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.args.user,e.next=3,Object(u.account)();case 3:if(e.t1=e.sent,e.t0==e.t1){e.next=6;break}throw new Error("only user able to claim");case 6:return e.t2=this.masterchef.methods.deposit(this.poolId,0),e.next=9,Object(u.account)();case 9:return e.t3=e.sent,e.t4=t?"0x0":"0x2",e.t5={from:e.t3,type:e.t4},e.next=14,e.t2.send.call(e.t2,e.t5);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();e.Farm=t}(a||(a={})),function(e){e[e.Critical=0]="Critical",e[e.High=1]="High",e[e.Medium=2]="Medium",e[e.Low=3]="Low"}(s||(s={})),function(e){var t=function(){function e(t,a){Object(d.a)(this,e),this.args=t,this.oracle=a,this.WARN_HEALTH_FACTOR=Object(u.bn18)("1.0641"),this.instance=Object(u.contract)(n(705),this.args.address),this.asset=u.erc20s.eth.USDC(),this.rewardAsset=u.erc20s.eth.Aave_stkAAVE(),this.aave=u.erc20s.eth.AAVE(),this.weth=u.erc20s.eth.WETH()}return Object(y.a)(e,[{key:"getArgs",value:function(){return this.args}},{key:"getNetwork",value:function(){return u.networks.eth}},{key:"getAssets",value:function(){return[this.asset]}},{key:"getRewardAssets",value:function(){return[this.rewardAsset]}},{key:"getHealth",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instance.methods.getPositionData().call();case 2:if(t=e.sent,!Object(u.bn)(t.healthFactor).lt(this.WARN_HEALTH_FACTOR)){e.next=6;break}return e.abrupt("return",[{severity:s.Critical,message:"Low Health Factor!",info:{args:this.args,data:t}}]);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAmounts",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instance.methods.getPositionData().call();case 2:return t=e.sent,n=t.totalCollateralETH,a=t.totalDebtETH,e.t0=this.asset,e.t1=Object(u.bn)(n),e.next=9,this.oracle.valueOf(this.weth,Object(u.bn)(n));case 9:return e.t2=e.sent,e.t3={asset:e.t0,amount:e.t1,value:e.t2},e.t4=this.asset,e.t5=Object(u.bn)(a),e.next=15,this.oracle.valueOf(this.weth,Object(u.bn)(a));case 15:return e.t6=e.sent,e.t7={asset:e.t4,amount:e.t5,value:e.t6},e.abrupt("return",[e.t3,e.t7]);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPendingRewards",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u.bn,e.next=3,this.instance.methods.getBalanceReward().call();case 3:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.next=7,this.oracle.valueOf(this.aave,t);case 7:return n=e.sent,e.abrupt("return",[{asset:this.rewardAsset,amount:t,value:n}]);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"claim",value:function(){var e=Object(l.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.instance.methods.claimRewardsToOwner(),e.next=3,Object(u.account)();case 3:return e.t1=e.sent,e.t2=t?"0x0":"0x2",e.t3={from:e.t1,type:e.t2},e.next=8,e.t0.send.call(e.t0,e.t3);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();e.AaveLoop=t;var a=function(){function e(t,a){Object(d.a)(this,e),this.args=t,this.oracle=a,this.WARN_LIQUIDITY_iPERCENT_OF_SUPPLY=400,this.instance=Object(u.contract)(n(706),this.args.address),this.asset=u.erc20s.eth.USDC(),this.rewardAsset=u.erc20s.eth.COMP()}return Object(y.a)(e,[{key:"getArgs",value:function(){return this.args}},{key:"getNetwork",value:function(){return u.networks.eth}},{key:"getAssets",value:function(){return[this.asset]}},{key:"getRewardAssets",value:function(){return[this.rewardAsset]}},{key:"getHealth",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t,n,a,r,i,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAmounts();case 2:return t=e.sent,n=Object(c.a)(t,1),a=n[0],e.next=7,this.instance.methods.getAccountLiquidityWithInterest().call();case 7:if(r=e.sent,i=r.accountLiquidity,o=r.accountShortfall,l=a.value.divn(this.WARN_LIQUIDITY_iPERCENT_OF_SUPPLY),Object(u.bn)(o).isZero()&&!Object(u.bn)(i).lt(l)){e.next=13;break}return e.abrupt("return",[{severity:s.Critical,message:"Low Liquidity!",info:{args:this.args,accountLiquidity:i,accountShortfall:o}}]);case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAmounts",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u.to18,e.next=3,this.instance.methods.borrowBalanceCurrent().call();case 3:return e.t1=e.sent,t=(0,e.t0)(e.t1,6),e.t2=u.to18,e.next=8,u.erc20s.eth.Compound_cUSDC().methods.balanceOfUnderlying(this.args.address).call();case 8:return e.t3=e.sent,n=(0,e.t2)(e.t3,6),e.abrupt("return",[{asset:this.asset,amount:n,value:n},{asset:this.asset,amount:t,value:t}]);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getPendingRewards",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u.bn,e.next=3,this.instance.methods["claimComp()"]().call();case 3:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.t2=this.rewardAsset,e.t3=t,e.next=9,this.oracle.valueOf(this.rewardAsset,t);case 9:return e.t4=e.sent,e.t5={asset:e.t2,amount:e.t3,value:e.t4},e.abrupt("return",[e.t5]);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"claim",value:function(){var e=Object(l.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.instance.methods.claimAndTransferAllCompToOwner(),e.next=3,Object(u.account)();case 3:return e.t1=e.sent,e.t2=t?"0x0":"0x2",e.t3={from:e.t1,type:e.t2},e.next=8,e.t0.send.call(e.t0,e.t3);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();e.CompoundLoop=a}(r||(r={})),i.a.register({"bsc:Pancakeswap:Farm:BUSD/BNB":function(e,t){return new a.Farm(e,t,u.erc20s.bsc.BUSD(),u.erc20s.bsc.WBNB(),u.erc20s.bsc.Pancakeswap_LP_BUSD_BNB(),252)},"bsc:Pancakeswap:Farm:CAKE/BNB":function(e,t){return new a.Farm(e,t,u.erc20s.bsc.CAKE(),u.erc20s.bsc.WBNB(),u.erc20s.bsc.Pancakeswap_LP_CAKE_BNB(),251)},"bsc:Pancakeswap:Farm:ORBS/BUSD":function(e,t){return new a.Farm(e,t,u.erc20s.bsc.ORBS(),u.erc20s.bsc.BUSD(),u.erc20s.bsc.Pancakeswap_LP_ORBS_BUSD(),416)},"eth:Loops:AaveLoop":function(e,t){return new r.AaveLoop(e,t)},"eth:Loops:CompoundLoop":function(e,t){return new r.CompoundLoop(e,t)}})}},[[716,1,2]]]);
//# sourceMappingURL=main.6da6b8e7.chunk.js.map