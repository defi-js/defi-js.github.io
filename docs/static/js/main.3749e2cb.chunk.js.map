{"version":3,"sources":["../node_modules/@elrondnetwork/bls-wasm sync /^/.//.*/.js$","assets/orbs.png","assets/logo.svg","assets/list-icon1.svg","assets/list-icon2.svg","assets/list-icon3.svg","assets/list-icon4.svg","assets/list-icon5.svg","assets/dotted-line.svg","assets/geom1.png","assets/geom2.png","positions/base/consts.ts","state/AppState.ts","positions/base/PositionFactory.ts","positions/Pancakeswap.ts","positions/base/Position.ts","positions/Loops.ts","ui/AppHeader.tsx","positions/base/PriceOracle.ts","positions/Revault.ts","positions/Unicly.ts","positions/Fodl.ts","positions/TokenBalances.ts","positions/Uniswap.ts","positions/OffChain.ts","positions/AlphaHomora.ts","positions/index.ts","state/AllPositionsState.ts","state/PositionDialogState.ts","state/AddPositionDialogState.ts","ui/AddPositionDialog.tsx","ui/AllPositionsTable.tsx","ui/PositionDialog.tsx","ui/AlertDialog.tsx","ui/ImportExport.tsx","App.tsx","index.tsx","Homepage.tsx","positions/ElrondMaiar.ts"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","erc20s","_","merge","erc20sOrig","networks","contractsOrig","networksOrig","egld","ElrondMaiar","network","off","name","shortname","currentNetwork","a","netId","bn","window","ethereum","chainId","toNumber","console","log","find","n","sendWithTxType","tx","useLegacyTx","account","from","type","send","isNetworkDisabled","AppState","createStore","initialState","allNetworks","loading","wallet","alertDialog","actions","withLoading","thunk","setState","_withLoading","showAlert","alert","clickNetwork","networkId","getState","_ethereum","removeAllListeners","on","_onConnect","request","method","_switchNetwork","t","message","stack","setWeb3Instance","Web3","params","utils","numberToHex","Severity","useAppState","createHook","useIsAppConnected","selector","state","isAddress","useIsLoading","useAppActions","AppHeader","style","display","flexDirection","justifyContent","margin","ToggleButtonGroup","value","exclusive","onChange","p","parseInt","target","ToggleButton","textTransform","disabled","coingeckoIds","eth","bsc","poly","arb","avax","PriceOracle","prices","USD","ether","token","tokenId","symbol","address","price","this","getId","amount","isZero","fetchPricesElrond","fetchPrices","toString","zero","mul","div","positions","bynetwork","groupBy","getNetwork","coingeckoFetches","filter","getAssets","concat","getRewardAssets","flatten","uniq","elrondFetch","Promise","all","addresses","isEmpty","coingeckoId","v","k","url","join","fetch","response","json","result","mapKeys","web3","toChecksumAddress","mapValues","bn18","usd","updateResults","tokenIds","body","variables","i","query","headers","JSON","stringify","data","inputs","results","registry","oracle","isElrondAddress","startsWith","Address","fromString","types","args","uniqueId","current","trim","length","isOffChainSymbol","PositionFactory","register","Farm","BUSD","WBNB","Pancakeswap_LP_BUSD_BNB","CAKE","Pancakeswap_LP_CAKE_BNB","ORBS","Pancakeswap_LP_ORBS_BUSD","BTCB","Pancakeswap_LP_BTCB_BNB","DOT","Pancakeswap_LP_DOT_BNB","ADA","Pancakeswap_LP_ADA_BNB","LINK","Pancakeswap_LP_LINK_BNB","DOGE","Pancakeswap_LP_DOGE_BNB","asset0","asset1","lpToken","poolId","masterchef","contracts","Pancakeswap_Masterchef","cake","amount0","amount1","value0","value1","rewardAmount","rewardValue","tvl","getName","getArgs","getData","getHealth","getAmounts","asset","add","getPendingRewards","getTVL","getContractMethods","functions","methods","userInfo","call","getReserves","token0","totalSupply","pendingCake","balanceOf","options","reserves","pending","lpStaked","_reserve0","_reserve1","r0","toLowerCase","r1","amountLP","mantissa","valueOf","muln","encodeABI","deposit","Pancakeswap","AaveLoop","WARN_HEALTH_FACTOR","instance","contract","require","USDC","rewardAsset","Aave_stkAAVE","aave","AAVE","weth","WETH","healthFactor","totalCollateralETH","totalCollateralValue","totalDebtETH","totalDebtValue","sub","lt","severity","Critical","getPositionData","posData","getBalanceReward","atoken","Aave_aUSDC","owner","claimRewardsToOwner","CompoundLoop","WARN_LIQUIDITY_PERCENT_OF_PRINCIPAL","COMP","borrowBalance","supplyBalance","accountLiquidity","accountShortfall","minLiquidity","divn","ctoken","Compound_cUSDC","exchangeRateCurrent","balanceOfUnderlying","borrowBalanceCurrent","getAccountLiquidityWithInterest","exchangeRate","underlyingBalance","liquidity","to18","claimAndTransferAllCompToOwner","Loops","SingleVault","RevaStake","REVA","erc20","revault","chef","reva","pendingValue","pendingReva","pendingRevaValue","vaultId","vaultHarvestPayload","findVault","vault","principal","payload","harvestVault","returnedRevaAmount","returnedTokenAmount","tokens","info","tvlBusd","supportedVaults","abi","encodeFunctionSignature","vaults","userVaultPrincipal","staking","pendingAmount","userPoolInfo","poolInfo","Revault","uPunks","lp","uJenny","XUnicFarm","strategy","xfarm","unic","xunic","amountAsset","amountETH","valueAsset","valueETH","pendingxUNICs","getxUNICRate","xunicrate","totalLPTokens","Unicly","XFodlStake","fodl","xfodl","then","myXfodl","xfodlTotalSupply","fodlStaked","Fodl","TokenBalance","mcap","nativeTokens","WMATIC","WAVAX","NativeTokenBalance","getBalance","forEach","input","TokenBalances","maxUint128","pow","subn","positionGraph","posId","position","pool","totalValueLockedUSD","principal0","depositedToken0","withdrawnToken0","principal1","depositedToken1","withdrawnToken1","collectedFees0","collectedFeesToken0","collectedFees1","collectedFeesToken1","tick","V3LP","WBTC","token1","nftPositionManager","valueIfHodl","valueNow","ilValue","il","pending0","pending1","pendingValue0","pendingValue1","totalFeesValue","gt","High","pos","decreaseLiquidity","maxUint256","res","graph","principalValue0","principalValue1","collect","Uniswap","AssetPosition","zeroAddress","OffChain","LYF","WETHe","baseToken","alphaHomoraBank","maxHistoryBlocks","supply0","supply1","borrow0","borrow1","ilAmount","debtRatio","getPositionInfo","lpSupplied","collateralSize","nft","collToken","getUnderlyingToken","collId","totalLPs","share","total0","total1","getPositionDebts","debts","indexOf","loadDeposits","loadDebtRatio","depositAbi","jsonInterface","x","depositSig","getBlockNumber","currentBlock","earliestBlock","alltxsResponse","alltxs","relevantTxs","eqIgnoreCase","to","error","getTransactionReceipt","hash","receipt","events","parseEvents","depositEvent","event","returnValues","deposit0","deposit1","reduce","sum","valueNow0","valueNow1","proxyOracleAbi","stateMutability","internalType","outputs","tokenFactors","borrowFactor","f0","f1","AlphaHomora","Strategies","FarmStrategies","USDC_EGLD","MEX_EGLD","MexFarm","MexFarmStrategies","MEX","RIDE","STORAGE_KEY","loadPositionsFromStorage","parse","localStorage","getItem","savePositionsToStorage","setItem","AllPositionsState","ready","load","api","addPosition","create","update","newArgs","delete","sendTransaction","harvest","warmup","values","shouldLoad","catch","useAllPositionsActions","useAllPositionRows","createSelector","sortBy","chain","health","num","marketValue","useAllPositions","useAllPositionsTotals","grouped","labels","totals","total","s","to3","PositionDialogState","useLegacy","selectedMethod","selectedMethodArgs","showPosition","closeDialog","selectMethod","setMethodArg","index","arg","setUseLegacy","callContract","usePositionDialogActions","usePositionDialogSelector","m","endsWith","substring","split","BN","fmt18","positionMethods","selectedMethodArgTypes","assets","rewardAssets","rawData","AddPositionDialogState","show","valid","allTypes","sort","setType","isValidArgs","setAddress","setInput","setName","useAddPositionDialog","AddPositionBtn","isConnected","Button","onClick","AddPositionDialog","appActions","allPositionActions","close","Dialog","open","onClose","DialogTitle","minWidth","DialogContent","FormControl","fullWidth","InputLabel","Select","label","MenuItem","TextField","variant","DialogActions","size","ChartJS","ArcElement","Tooltip","Legend","columns","field","headerName","width","align","headerAlign","valueFormatter","commafy","toFixed","sortable","AllPositionsTable","appState","rows","positionDialogActions","useEffect","height","onCellClick","autoHeight","hideFooter","ListItemText","datasets","borderWidth","backgroundColor","bgColors","Math","round","colorOf","responsive","plugins","legend","PositionDialog","appStateActions","allPositionsActions","DialogContentText","argType","autoFocus","FormGroup","FormControlLabel","control","Switch","checked","memAlert","AlertDialog","whiteSpace","exportPositionsJson","fileName","fileType","blob","Blob","document","createElement","download","href","URL","createObjectURL","dispatchEvent","MouseEvent","view","bubbles","cancelable","remove","downloadFile","Date","toISOString","importPositionsJson","accept","hidden","addEventListener","file","files","reader","FileReader","onload","str","location","reload","readAsText","ImportExport","ButtonGroup","darkTheme","createTheme","palette","mode","Loading","Backdrop","sx","color","zIndex","theme","modal","CircularProgress","ReactDOM","render","StrictMode","path","component","ThemeProvider","className","paddingTop","marginTop","src","OrbsLogo","alt","DeFiLogo","LI1","LI2","LI3","LI4","LI5","DotLine","maxWidth","left","top","Geom1","Geom2","getElementById","provider","ProxyProvider","timeout","EGLD","esdt","LKMEX","LKFARM","EGLD_MEX_FARM","MEX_POOL_NFT","RIDE_POOL_NFT","getAddressEsdtList","getAccount","r","balance","esdts","balanceEGLD","tokenIdentifier","dec","balances","push","farm","mex","lpBalanceStaked","pair","SmartContract","base64","farmingTokenReserve","token0Id","token0r","token1r","lpTotalSupply","farmNfts","creator","parseLPFromFarmTokenAttr","attributes","b","callAndParseGetPendingRewards","percentOfPool","reward","proxy","farmNft","totalAssetStaked","getAddress","farmEsdts","farmNftWrapper","parsePrincipalAmountFromWrappedFarmTokenAttr","decimals","Buffer","fn","runQuery","func","ContractFunction","returnData","balanceFarmNFT","BigUIntValue","BigNumberExt","max","BytesValue","codec","decodeNested","typeFarmTokenAttributes","initial_farming_amount","typeWrappedFarmTokenAttributes","farm_token_id","farming_token_amount","BinaryCodec","StructType","StructFieldDefinition","TokenIdentifierType","U64Type","BigUIntType","U8Type","BooleanType"],"mappings":"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","file":"static/js/main.3749e2cb.chunk.js","sourcesContent":["var map = {\n\t\"./bls.js\": 540,\n\t\"./bls_c.js\": 541\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1049;","export default __webpack_public_path__ + \"static/media/orbs.edf8d68f.png\";","export default __webpack_public_path__ + \"static/media/logo.c2738899.svg\";","export default __webpack_public_path__ + \"static/media/list-icon1.18bcd298.svg\";","export default __webpack_public_path__ + \"static/media/list-icon2.4b928706.svg\";","export default __webpack_public_path__ + \"static/media/list-icon3.596f4d83.svg\";","export default __webpack_public_path__ + \"static/media/list-icon4.cd9ac7ff.svg\";","export default __webpack_public_path__ + \"static/media/list-icon5.5be90266.svg\";","export default __webpack_public_path__ + \"static/media/dotted-line.a7040ce9.svg\";","export default __webpack_public_path__ + \"static/media/geom1.75a84b0d.png\";","export default __webpack_public_path__ + \"static/media/geom2.3a3b2e04.png\";","import _ from \"lodash\";\nimport { account, bn, contracts as contractsOrig, erc20abi, erc20s as erc20sOrig, networks as networksOrig, web3 } from \"@defi.org/web3-candies\";\nimport { ElrondMaiar } from \"../ElrondMaiar\";\nimport { ContractCallContext, Multicall } from \"ethereum-multicall\";\n\nexport const erc20s = _.merge({}, erc20sOrig, {});\nexport const contracts = _.merge({}, contractsOrig, {});\n\nexport const networks = _.merge({}, networksOrig, {\n  egld: ElrondMaiar.network,\n  off: { id: -1, name: \"OffChain\", shortname: \"off\" },\n});\n\nexport async function currentNetwork() {\n  // const netId = await web3().eth.net.getId();\n  const netId = bn((window as any).ethereum.chainId, 16).toNumber();\n  console.log(\"detected networkId\", netId);\n  return _.find(networks, (n) => n.id === netId);\n}\n\nexport async function sendWithTxType(tx: any, useLegacyTx: boolean) {\n  await tx.send({ from: await account(), type: useLegacyTx ? \"0x0\" : \"0x2\" });\n}\n\nexport async function performMulticallBalanceOf(wallet: string, tokens: string[]) {\n  if (!tokens.length) return [];\n  try {\n    const multicall = new Multicall({ web3Instance: web3(), tryAggregate: true });\n    const calls = _.map(\n      tokens,\n      (t) =>\n        ({\n          reference: t,\n          contractAddress: t,\n          abi: erc20abi,\n          calls: [{ reference: t, methodName: \"balanceOf\", methodParameters: [wallet] }],\n        } as ContractCallContext)\n    );\n    const result = await multicall.call(calls);\n\n    return _.map(result.results, (v) => {\n      const t = _.find(tokens, (t) => t === v.callsReturnContext[0].reference)!;\n      return { address: t, balance: bn(v.callsReturnContext[0].returnValues[0].hex || \"\", 16) };\n    });\n  } catch (e) {\n    return tokens;\n  }\n}\n","import Web3 from \"web3\";\nimport { createHook, createStore } from \"react-sweet-state\";\nimport { account, Network, setWeb3Instance } from \"@defi.org/web3-candies\";\nimport { currentNetwork, networks } from \"../positions/base/consts\";\n\n// defaults.middlewares.add((storeState: any) => (next: any) => (arg: any) => {\n//   const result = next(arg);\n//   console.log(storeState.key, \":\", storeState.getState());\n//   return result;\n// });\n\nexport function isNetworkDisabled(network?: Network) {\n  return !network || network.id < 0;\n}\n\nconst AppState = createStore({\n  name: \"AppState\",\n\n  initialState: {\n    allNetworks: networks,\n    loading: false,\n    wallet: \"\",\n    network: null as Network | null,\n    alertDialog: \"\",\n  },\n\n  actions: {\n    withLoading:\n      (thunk: () => any) =>\n      async ({ setState }) => {\n        await _withLoading(setState, thunk);\n      },\n\n    showAlert:\n      (alert: string) =>\n      async ({ setState }) => {\n        setState({ alertDialog: alert });\n      },\n\n    clickNetwork:\n      (networkId: number) =>\n      async ({ setState, getState }) => {\n        await _withLoading(setState, async () => {\n          if (!_ethereum()) {\n            alert(\"install metamask\");\n            return;\n          }\n\n          _ethereum().removeAllListeners();\n          _ethereum().on(\"chainChanged\", async () => {\n            await _onConnect(setState);\n          });\n\n          await _ethereum().request({ method: \"eth_requestAccounts\" });\n\n          await _switchNetwork(networkId);\n\n          if (!getState().network || getState().network?.id === networkId) {\n            await _onConnect(setState);\n          }\n        });\n      },\n  },\n});\n\nfunction _ethereum() {\n  return (window as any).ethereum;\n}\n\nasync function _withLoading(setState: any, t: () => Promise<void>) {\n  try {\n    setState({ loading: true });\n    await t();\n  } catch (e: any) {\n    alert(`${e.message} ${e.stack}`);\n  } finally {\n    setState({ loading: false });\n  }\n}\n\nasync function _onConnect(setState: any) {\n  setState({ wallet: \"\", network: null });\n\n  setWeb3Instance(new Web3(_ethereum()));\n  const wallet = await account();\n  const network = await currentNetwork();\n  console.log(\"onConnect: network\", network);\n\n  if (isNetworkDisabled(network)) throw new Error(`network ${network?.name} not supported yet`);\n\n  setState({ wallet, network });\n}\n\nasync function _switchNetwork(networkId: number) {\n  try {\n    await _ethereum().request({\n      method: \"wallet_switchEthereumChain\",\n      params: [{ chainId: Web3.utils.numberToHex(networkId) }],\n    });\n  } catch (switchError) {\n    // This error code indicates that the chain has not been added to MetaMask.\n    // if (switchError.code === 4902) {\n    //   try {\n    //     await ethereum.request({\n    //       method: \"wallet_addEthereumChain\",\n    //       params: [{ chainId: network.id, rpcUrl: network. }],\n    //     });\n    //   } catch (addError) {\n    //     // handle \"add\" error\n    //   }\n    // }\n    // handle other \"switch\" errors\n  }\n}\n\nexport const useAppState = createHook(AppState);\nexport const useIsAppConnected = createHook(AppState, {\n  selector: (state) => Web3.utils.isAddress(state.wallet) && !!state.network?.id,\n});\nexport const useIsLoading = createHook(AppState, {\n  selector: (state) => state.loading,\n});\nexport const useAppActions = createHook(AppState, {\n  selector: null,\n});\n","import _ from \"lodash\";\nimport { Position, PositionArgs } from \"./Position\";\nimport { PriceOracle } from \"./PriceOracle\";\nimport { Network, web3 } from \"@defi.org/web3-candies\";\nimport { Address } from \"@elrondnetwork/erdjs/out\";\n\ntype Factory = (args: PositionArgs, oracle: PriceOracle) => Position;\n\nconst registry = {} as Record<string, Factory>;\n\nexport namespace PositionFactory {\n  export const oracle = new PriceOracle();\n\n  export function register(types: Record<string, Factory>) {\n    _.merge(registry, types);\n  }\n\n  export function allTypes() {\n    return _.keys(registry);\n  }\n\n  export function create(args: PositionArgs): Position | null {\n    if (!registry[args.type]) return null;\n\n    if (!args.id) args.id = _.uniqueId(args.type + \":\" + args.address + \"-\" + args.name + \"-\");\n\n    return registry[args.type](args, oracle);\n  }\n\n  export function shouldLoad(p: Position, current: Network) {\n    return p.getNetwork().id === current.id || p.getNetwork().id < 0; // non-web3 network\n  }\n\n  export function isValidWallet(address: string) {\n    return web3()?.utils?.isAddress(address) || isElrondAddress(\"egld:\", address);\n  }\n\n  export function isValidArgs(type: string, address: string) {\n    return !!type && (web3()?.utils?.isAddress(address) || isElrondAddress(type, address) || isOffChainSymbol(type, address));\n  }\n\n  function isElrondAddress(type: string, address: string) {\n    try {\n      return type.startsWith(\"egld:\") && address.startsWith(\"erd1\") && !Address.fromString(address).isEmpty();\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function isOffChainSymbol(type: string, address: string) {\n    try {\n      return type.startsWith(\"x:OffChain:Asset\") && _.trim(address).length > 0;\n    } catch (e) {\n      return false;\n    }\n  }\n}\n","import { Position, PositionArgs } from \"./base/Position\";\nimport { bn, contracts, erc20s, ether, Token, zero } from \"@defi.org/web3-candies\";\nimport type { PancakeswapLPAbi } from \"@defi.org/web3-candies/typechain-abi/PancakeswapLPAbi\";\nimport { PriceOracle } from \"./base/PriceOracle\";\nimport _ from \"lodash\";\nimport { networks, sendWithTxType } from \"./base/consts\";\nimport { PositionFactory } from \"./base/PositionFactory\";\n\nexport namespace Pancakeswap {\n  // const POOL_ID_MAPPING_URL = \"https://raw.githubusercontent.com/pancakeswap/pancake-frontend/master/src/config/constants/farms.ts\";\n\n  export function register() {\n    PositionFactory.register({\n      \"bsc:Pancakeswap:Farm:BUSD/BNB\": (args, oracle) => new Farm(args, oracle, erc20s.bsc.BUSD(), erc20s.bsc.WBNB(), erc20s.bsc.Pancakeswap_LP_BUSD_BNB(), 252),\n      \"bsc:Pancakeswap:Farm:CAKE/BNB\": (args, oracle) => new Farm(args, oracle, erc20s.bsc.CAKE(), erc20s.bsc.WBNB(), erc20s.bsc.Pancakeswap_LP_CAKE_BNB(), 251),\n      \"bsc:Pancakeswap:Farm:ORBS/BUSD\": (args, oracle) => new Farm(args, oracle, erc20s.bsc.ORBS(), erc20s.bsc.BUSD(), erc20s.bsc.Pancakeswap_LP_ORBS_BUSD(), 416),\n      \"bsc:Pancakeswap:Farm:BTCB/BNB\": (args, oracle) => new Farm(args, oracle, erc20s.bsc.BTCB(), erc20s.bsc.WBNB(), erc20s.bsc.Pancakeswap_LP_BTCB_BNB(), 262),\n      \"bsc:Pancakeswap:Farm:DOT/BNB\": (args, oracle) => new Farm(args, oracle, erc20s.bsc.DOT(), erc20s.bsc.WBNB(), erc20s.bsc.Pancakeswap_LP_DOT_BNB(), 255),\n      \"bsc:Pancakeswap:Farm:ADA/BNB\": (args, oracle) => new Farm(args, oracle, erc20s.bsc.ADA(), erc20s.bsc.WBNB(), erc20s.bsc.Pancakeswap_LP_ADA_BNB(), 253),\n      \"bsc:Pancakeswap:Farm:LINK/BNB\": (args, oracle) => new Farm(args, oracle, erc20s.bsc.LINK(), erc20s.bsc.WBNB(), erc20s.bsc.Pancakeswap_LP_LINK_BNB(), 257),\n      \"bsc:Pancakeswap:Farm:DOGE/BNB\": (args, oracle) => new Farm(args, oracle, erc20s.bsc.DOGE(), erc20s.bsc.WBNB(), erc20s.bsc.Pancakeswap_LP_DOGE_BNB(), 376),\n    });\n  }\n\n  class Farm implements Position {\n    masterchef = contracts.bsc.Pancakeswap_Masterchef();\n    cake = erc20s.bsc.CAKE();\n\n    data = {\n      amount0: zero,\n      amount1: zero,\n      value0: zero,\n      value1: zero,\n      rewardAmount: zero,\n      rewardValue: zero,\n      tvl: zero,\n    };\n\n    constructor(\n      public args: PositionArgs,\n      public oracle: PriceOracle,\n      public asset0: Token,\n      public asset1: Token,\n      public lpToken: Token & PancakeswapLPAbi,\n      public poolId: number\n    ) {}\n\n    getName = () => ``;\n\n    getArgs = () => this.args;\n\n    getNetwork = () => networks.bsc;\n\n    getAssets = () => [this.asset0, this.asset1];\n\n    getRewardAssets = () => [this.cake];\n\n    getData = () => this.data;\n\n    getHealth = () => [];\n\n    getAmounts = () => [\n      {\n        asset: this.asset0,\n        amount: this.data.amount0,\n        value: this.data.value0.add(ether),\n      },\n      {\n        asset: this.asset1,\n        amount: this.data.amount1,\n        value: this.data.value1,\n      },\n    ];\n\n    getPendingRewards = () => [\n      {\n        asset: this.cake,\n        amount: this.data.rewardAmount,\n        value: this.data.rewardValue,\n      },\n    ];\n\n    getTVL = () => this.data.tvl;\n\n    async load() {\n      const [userInfo, reserves, token0, totalSupply, pending, lpStaked] = await Promise.all([\n        this.masterchef.methods.userInfo(this.poolId, this.args.address).call(),\n        this.lpToken.methods.getReserves().call(),\n        this.lpToken.methods.token0().call(),\n        this.lpToken.methods.totalSupply().call(),\n        this.masterchef.methods.pendingCake(this.poolId, this.args.address).call(),\n        this.lpToken.methods.balanceOf(this.masterchef.options.address).call(),\n      ]);\n      const { _reserve0, _reserve1 } = reserves;\n      const r0 = token0.toLowerCase() === this.asset0.address.toLowerCase() ? _reserve0 : _reserve1;\n      const r1 = r0 === _reserve0 ? _reserve1 : _reserve0;\n      const amountLP = bn(userInfo.amount);\n      this.data.rewardAmount = bn(pending);\n\n      this.data.amount0 = await this.asset0.mantissa(bn(r0).mul(amountLP).div(bn(totalSupply)));\n      this.data.amount1 = await this.asset1.mantissa(bn(r1).mul(amountLP).div(bn(totalSupply)));\n\n      [this.data.value0, this.data.value1, this.data.rewardValue, this.data.tvl] = await Promise.all([\n        this.oracle.valueOf(this.getNetwork().id, this.asset0, this.data.amount0),\n        this.oracle.valueOf(this.getNetwork().id, this.asset1, this.data.amount1),\n        this.oracle.valueOf(this.getNetwork().id, this.cake, this.data.rewardAmount),\n        this.oracle.valueOf(this.getNetwork().id, this.asset1, bn(r1).muln(2).mul(bn(lpStaked)).div(bn(totalSupply))),\n      ]);\n    }\n\n    getContractMethods = () => _.functions(this.masterchef.methods);\n\n    async callContract(method: string, args: string[]) {\n      const tx = (this.masterchef.methods as any)[method](...args);\n      return await tx.call({ from: this.args.address });\n    }\n\n    async sendTransaction(method: string, args: string[]) {\n      const tx = (this.masterchef.methods as any)[method](...args);\n      alert(`target:\\n${this.masterchef.options.address}\\ndata:\\n${tx.encodeABI()}`);\n      await sendWithTxType(tx, true);\n    }\n\n    async harvest() {\n      await sendWithTxType(this.masterchef.methods.deposit(this.poolId, 0), true);\n    }\n  }\n}\n","import BN from \"bn.js\";\nimport { Network, Token } from \"@defi.org/web3-candies\";\n\nexport type PositionArgs = {\n  type: string;\n  address: string;\n  id: string;\n  input?: string;\n  name?: string;\n};\n\nexport interface Position {\n  getName(): string;\n  getArgs(): PositionArgs;\n  getNetwork(): Network;\n  getAssets(): Token[];\n  getRewardAssets(): Token[];\n\n  // TODO getGovernance\n  load(): Promise<void>;\n  getData(): { [key: string]: BN | string | number };\n\n  getHealth(): Threat[];\n  getAmounts(): TokenAmount[];\n  getPendingRewards(): TokenAmount[];\n  getTVL(): BN;\n  // getAPR(): BN;\n\n  getContractMethods(): string[];\n  callContract(method: string, args: string[]): Promise<any>;\n  sendTransaction(method: string, args: string[], useLegacyTx: boolean): Promise<void>;\n  harvest(useLegacyTx: boolean): Promise<void>;\n}\n\nexport interface TokenAmount {\n  asset: Token;\n  /**\n   * ERC20 amount\n   */\n  amount: BN;\n  /**\n   * USD, 18 decimals\n   */\n  value: BN;\n}\n\nexport enum Severity {\n  Critical,\n  High,\n  Medium,\n  Low,\n}\n\nexport interface Threat {\n  severity: Severity;\n  message: string;\n}\n","import { Position, PositionArgs, Severity } from \"./base/Position\";\nimport { PriceOracle } from \"./base/PriceOracle\";\nimport { bn, bn18, contract, erc20s, ether, to18, zero } from \"@defi.org/web3-candies\";\nimport type { AaveLoopAbi } from \"../../typechain-abi/AaveLoopAbi\";\nimport type { CompoundLoopAbi } from \"../../typechain-abi/CompoundLoopAbi\";\nimport _ from \"lodash\";\nimport { networks, sendWithTxType } from \"./base/consts\";\n\nexport namespace Loops {\n  /**\n   * Aave on Ethereum\n   */\n  export class AaveLoop implements Position {\n    WARN_HEALTH_FACTOR = bn18(\"1.0641\");\n\n    instance = contract<AaveLoopAbi>(require(\"../abi/AaveLoopAbi.json\"), this.args.address);\n    asset = erc20s.eth.USDC();\n    rewardAsset = erc20s.eth.Aave_stkAAVE();\n    aave = erc20s.eth.AAVE();\n    weth = erc20s.eth.WETH();\n\n    data = {\n      healthFactor: zero,\n      totalCollateralETH: zero,\n      totalCollateralValue: zero,\n      totalDebtETH: zero,\n      totalDebtValue: zero,\n      rewardAmount: zero,\n      rewardValue: zero,\n      tvl: zero,\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle) {}\n\n    getName = () => ``;\n\n    getArgs() {\n      return this.args;\n    }\n\n    getNetwork() {\n      return networks.eth;\n    }\n\n    getAssets() {\n      return [this.asset];\n    }\n\n    getRewardAssets() {\n      return [this.rewardAsset];\n    }\n\n    getData = () => this.data;\n\n    getHealth() {\n      if (!this.data.healthFactor.isZero() && this.data.healthFactor.lt(this.WARN_HEALTH_FACTOR)) {\n        return [\n          {\n            severity: Severity.Critical,\n            message: \"Low Health Factor!\",\n          },\n        ];\n      }\n      return [];\n    }\n\n    getAmounts = () => [\n      {\n        asset: this.asset,\n        amount: this.data.totalCollateralETH.sub(this.data.totalDebtETH),\n        value: this.data.totalCollateralValue.sub(this.data.totalDebtValue),\n      },\n    ];\n\n    getPendingRewards = () => [\n      {\n        asset: this.rewardAsset,\n        amount: this.data.rewardAmount,\n        value: this.data.rewardValue,\n      },\n    ];\n\n    getTVL = () => this.data.tvl;\n\n    async load() {\n      const posData = await this.instance.methods.getPositionData().call();\n      this.data.healthFactor = bn(posData.healthFactor);\n      this.data.totalCollateralETH = bn(posData.totalCollateralETH);\n      this.data.totalDebtETH = bn(posData.totalDebtETH);\n\n      this.data.totalCollateralValue = await this.oracle.valueOf(this.getNetwork().id, this.weth, this.data.totalCollateralETH);\n      this.data.totalDebtValue = await this.oracle.valueOf(this.getNetwork().id, this.weth, this.data.totalDebtETH);\n      this.data.rewardAmount = bn(await this.instance.methods.getBalanceReward().call());\n      this.data.rewardValue = await this.oracle.valueOf(this.getNetwork().id, this.aave, this.data.rewardAmount);\n\n      const atoken = erc20s.eth.Aave_aUSDC();\n      this.data.tvl = await this.oracle.valueOf(this.getNetwork().id, this.asset, await atoken.mantissa(await atoken.methods.totalSupply().call()));\n    }\n\n    getContractMethods = () => _.functions(this.instance.methods);\n\n    async callContract(method: string, args: string[]) {\n      const tx = (this.instance.methods as any)[method](...args);\n      return await tx.call({ from: await this.instance.methods.owner().call() });\n    }\n\n    async sendTransaction(method: string, args: string[], useLegacyTx: boolean) {\n      const tx = (this.instance.methods as any)[method](...args);\n      alert(`target:\\n${this.instance.options.address}\\ndata:\\n${tx.encodeABI()}`);\n      await sendWithTxType(tx, useLegacyTx);\n    }\n\n    async harvest(useLegacyTx: boolean) {\n      await sendWithTxType(this.instance.methods.claimRewardsToOwner(), useLegacyTx);\n    }\n  }\n\n  /**\n   * Compound on ethereum\n   */\n  export class CompoundLoop implements Position {\n    WARN_LIQUIDITY_PERCENT_OF_PRINCIPAL = 0.005; // percent of total supply 0.25% => ex. $10M principal, $40M supply, $100k min liquidity\n\n    instance = contract<CompoundLoopAbi>(require(\"../abi/CompoundLoopAbi.json\"), this.args.address);\n    asset = erc20s.eth.USDC();\n    rewardAsset = erc20s.eth.COMP();\n\n    data = {\n      borrowBalance: zero,\n      supplyBalance: zero,\n      rewardAmount: zero,\n      rewardValue: zero,\n      accountLiquidity: zero,\n      accountShortfall: zero,\n      tvl: zero,\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle) {}\n\n    getName = () => ``;\n\n    getArgs() {\n      return this.args;\n    }\n\n    getNetwork() {\n      return networks.eth;\n    }\n\n    getAssets() {\n      return [this.asset];\n    }\n\n    getRewardAssets() {\n      return [this.rewardAsset];\n    }\n\n    getData = () => this.data;\n\n    getAmounts = () => [\n      {\n        asset: this.asset,\n        amount: this.data.supplyBalance.sub(this.data.borrowBalance),\n        value: this.data.supplyBalance.sub(this.data.borrowBalance),\n      },\n    ];\n\n    getTVL = () => this.data.tvl;\n\n    getPendingRewards = () => [\n      {\n        asset: this.rewardAsset,\n        amount: this.data.rewardAmount,\n        value: this.data.rewardValue,\n      },\n    ];\n\n    getHealth() {\n      const minLiquidity = this.data.supplyBalance.muln(this.WARN_LIQUIDITY_PERCENT_OF_PRINCIPAL).divn(100);\n      if (!this.data.accountShortfall.isZero() || bn(this.data.accountLiquidity).lt(minLiquidity)) {\n        return [\n          {\n            severity: Severity.Critical,\n            message: \"Low Liquidity!\",\n          },\n        ];\n      }\n      return [];\n    }\n\n    async load() {\n      const ctoken = erc20s.eth.Compound_cUSDC();\n      const [totalSupply, exchangeRate, underlyingBalance, borrowBalance, pending, liquidity] = await Promise.all([\n        ctoken.methods.totalSupply().call(),\n        ctoken.methods.exchangeRateCurrent().call(),\n        ctoken.methods.balanceOfUnderlying(this.args.address).call(),\n        this.instance.methods.borrowBalanceCurrent().call(),\n        this.instance.methods[\"claimComp()\"]().call(),\n        this.instance.methods.getAccountLiquidityWithInterest().call(),\n      ]);\n\n      this.data.supplyBalance = await this.asset.mantissa(underlyingBalance);\n      this.data.borrowBalance = await this.asset.mantissa(borrowBalance);\n      this.data.rewardAmount = bn(pending);\n      this.data.rewardValue = await this.oracle.valueOf(this.getNetwork().id, this.rewardAsset, this.data.rewardAmount);\n      this.data.accountLiquidity = bn(liquidity.accountLiquidity);\n      this.data.accountShortfall = bn(liquidity.accountShortfall);\n\n      this.data.tvl = (await ctoken.mantissa(totalSupply)).mul(to18(exchangeRate, 16)).div(ether);\n    }\n\n    getContractMethods = () => _.functions(this.instance.methods);\n\n    async callContract(method: string, args: string[]) {\n      const tx = (this.instance.methods as any)[method](...args);\n      return await tx.call({ from: await this.instance.methods.owner().call() });\n    }\n\n    async sendTransaction(method: string, args: string[], useLegacyTx: boolean) {\n      const tx = (this.instance.methods as any)[method](...args);\n      alert(`target:\\n${this.instance.options.address}\\ndata:\\n${tx.encodeABI()}`);\n      await sendWithTxType(tx, useLegacyTx);\n    }\n\n    async harvest(useLegacyTx: boolean) {\n      await sendWithTxType(this.instance.methods.claimAndTransferAllCompToOwner(), useLegacyTx);\n    }\n  }\n}\n","import React from \"react\";\nimport { isNetworkDisabled, useAppState } from \"../state/AppState\";\nimport { ToggleButton, ToggleButtonGroup } from \"@mui/material\";\nimport _ from \"lodash\";\n\nexport const AppHeader = () => {\n  const [state, actions] = useAppState();\n\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-around\", margin: 24 }}>\n      <ToggleButtonGroup value={state.network?.id} exclusive onChange={(p: any) => actions.clickNetwork(parseInt(p.target.value))}>\n        {_.map(state.allNetworks, (network) => (\n          <ToggleButton value={network.id} key={network.shortname} style={{ textTransform: \"none\" }} disabled={isNetworkDisabled(network)}>\n            {network.name}\n          </ToggleButton>\n        ))}\n      </ToggleButtonGroup>\n    </div>\n  );\n};\n","import _ from \"lodash\";\nimport BN from \"bn.js\";\nimport { bn18, ether, Token, web3, zero } from \"@defi.org/web3-candies\";\nimport { Position } from \"./Position\";\nimport { ElrondMaiar } from \"../ElrondMaiar\";\nimport { networks } from \"./consts\";\nimport { OffChain } from \"../OffChain\";\n\nconst coingeckoIds = {\n  [networks.eth.id]: \"ethereum\",\n  [networks.bsc.id]: \"binance-smart-chain\",\n  [networks.poly.id]: \"polygon-pos\",\n  [networks.arb.id]: \"arbitrum-one\",\n  [networks.avax.id]: \"avalanche\",\n};\n\nexport class PriceOracle {\n  prices: Record<string, BN> = {\n    USD: ether,\n  };\n\n  getId(networkId: number, token: Token) {\n    if (networkId === networks.egld.id) return (token as ElrondMaiar.ESDT).tokenId;\n    if (networkId === networks.off.id) return (token as OffChain.Asset).symbol;\n    return token.address;\n  }\n\n  overridePrice(networkId: number, token: Token, price: BN) {\n    this.prices[this.getId(networkId, token)] = price;\n  }\n\n  async valueOf(networkId: number, token: Token, amount: BN): Promise<BN> {\n    const id = this.getId(networkId, token);\n\n    if (!this.prices[id] || this.prices[id].isZero()) {\n      if (networkId === ElrondMaiar.network.id) await this.fetchPricesElrond([id]);\n      else await this.fetchPrices(networkId, [id]);\n    }\n\n    if (!this.prices[id]) {\n      console.log(`no price for ${token.name} ${token.address} for amount ${amount.toString()} on ${networkId}`);\n      return zero;\n    }\n\n    return amount.mul(this.prices[id]).div(ether);\n  }\n\n  async warmup(positions: Position[]) {\n    const bynetwork = _.groupBy(positions, (p) => p.getNetwork().id);\n    console.log(\"warming up prices for\", bynetwork);\n\n    const coingeckoFetches = _(bynetwork)\n      .keys()\n      .filter((id) => parseInt(id) > 0)\n      .map((id) =>\n        this.fetchPrices(\n          id,\n          _(bynetwork[id])\n            .map((p) => p.getAssets().concat(p.getRewardAssets()))\n            .flatten()\n            .map((a) => a.address)\n            .uniq()\n            .value()\n        )\n      )\n      .value();\n\n    const elrondFetch = this.fetchPricesElrond(\n      _(bynetwork[ElrondMaiar.network.id])\n        .map((p) => p.getAssets().concat(p.getRewardAssets()))\n        .flatten()\n        .map((a) => (a as any).tokenId)\n        .uniq()\n        .value()\n    );\n\n    await Promise.all([...coingeckoFetches, elrondFetch]);\n  }\n\n  /**\n   * returns price in USD 18 decimals by token address\n   */\n  async fetchPrices(networkId: number | string, addresses: string[]): Promise<{ [address: string]: BN }> {\n    if (_.isEmpty(addresses)) return {};\n    console.log(\"fetchPrices\", addresses);\n\n    try {\n      const coingeckoId = _.find(coingeckoIds, (v, k) => k === networkId.toString())!;\n      const url = `https://api.coingecko.com/api/v3/simple/token_price/${coingeckoId}?contract_addresses=${addresses.join(\",\")}&vs_currencies=usd`;\n      const response = await fetch(url);\n      const json = (await response.json()) as Record<string, any>;\n\n      const result = _(json)\n        .mapKeys((v, k) => web3().utils.toChecksumAddress(k))\n        .mapValues((v) => bn18(v.usd))\n        .value();\n\n      return this.updateResults(addresses, result);\n    } catch (e) {\n      return {};\n    }\n  }\n\n  /**\n   * returns price in USD 18 decimals by token ID\n   */\n  async fetchPricesElrond(tokenIds: string[]): Promise<{ [address: string]: BN }> {\n    if (_.isEmpty(tokenIds)) return {};\n    console.log(\"fetchPricesElrond\", tokenIds);\n\n    try {\n      const body = {\n        variables: _.mapKeys(tokenIds, (id, i) => `token${i}`),\n        query: `query (${_.map(tokenIds, (id, i) => `$token${i}: String!`).join(\", \")}) {\n              ${_.map(tokenIds, (id, i) => `token${i}: getTokenPriceUSD(tokenID: $token${i})`).join(\"\\n\")}\n            }`,\n      };\n\n      const response = await fetch(\"https://graph.maiar.exchange/graphql\", {\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify(body),\n        method: \"POST\",\n      });\n      const json = await response.json();\n\n      const result = _(json.data)\n        .mapKeys((v, k) => body.variables[k])\n        .mapValues((v) => bn18(v))\n        .value();\n\n      return this.updateResults(tokenIds, result);\n    } catch (e) {\n      return {};\n    }\n  }\n\n  updateResults(inputs: any, results: { [p: string]: BN }) {\n    if (_.isEmpty(results)) throw new Error(`no price for ${inputs}`);\n    return _.merge(this.prices, results);\n  }\n}\n","import { Position, PositionArgs } from \"./base/Position\";\nimport { PriceOracle } from \"./base/PriceOracle\";\nimport { bn, contract, erc20, Token, web3, zero } from \"@defi.org/web3-candies\";\nimport { erc20s, networks, sendWithTxType } from \"./base/consts\";\nimport _ from \"lodash\";\nimport type { RevaultFarmAbi } from \"../../typechain-abi/RevaultFarmAbi\";\nimport type { RevaultChefAbi } from \"../../typechain-abi/RevaultChefAbi\";\nimport type { RevaultStakingAbi } from \"../../typechain-abi/RevaultStakingAbi\";\nimport { PositionFactory } from \"./base/PositionFactory\";\n\nexport namespace Revault {\n  export function register() {\n    PositionFactory.register({\n      \"bsc:Revault:SingleVault:CAKE\": (args, oracle) => new SingleVault(args, oracle, erc20s.bsc.CAKE()),\n      \"bsc:Revault:SingleVault:BUSD\": (args, oracle) => new SingleVault(args, oracle, erc20s.bsc.BUSD()),\n      \"bsc:Revault:SingleVault:BNB\": (args, oracle) => new SingleVault(args, oracle, erc20s.bsc.WBNB()),\n    });\n    for (let i = 0; i < 4; i++) {\n      PositionFactory.register({\n        [`bsc:Revault:RevaStaking:x${i + 1}`]: (args, oracle) => new RevaStake(args, oracle, i),\n      });\n    }\n  }\n\n  const REVA = () => erc20(\"REVA\", \"0x4FdD92Bd67Acf0676bfc45ab7168b3996F7B4A3B\");\n  const revaultFarm = () => contract<RevaultFarmAbi>(require(\"../abi/RevaultFarmAbi.json\"), \"0x2642fa04bd1f7250be6539c5bDa36335333d9Ccd\");\n  const revaultChef = () => contract<RevaultChefAbi>(require(\"../abi/RevaultChefAbi.json\"), \"0xd7550285532f1642511b16Df858546F2593d638B\");\n  const revaStaking = () => contract<RevaultStakingAbi>(require(\"../abi/RevaultStakingAbi.json\"), \"0x8B7b2a115201ACd7F95d874D6A9432FcEB9C466A\");\n\n  class SingleVault implements Position {\n    revault = revaultFarm();\n    chef = revaultChef();\n    reva = REVA();\n\n    data = {\n      amount: zero,\n      value: zero,\n      pending: zero,\n      pendingValue: zero,\n      pendingReva: zero,\n      pendingRevaValue: zero,\n      tvl: zero,\n      vaultId: 0,\n      vaultHarvestPayload: \"\",\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle, public asset: Token) {}\n\n    getName = () => ``;\n\n    getNetwork = () => networks.bsc;\n\n    getArgs = () => this.args;\n\n    getData = () => this.data;\n\n    getAssets = () => [this.asset];\n\n    getRewardAssets = () => [this.asset, this.reva];\n\n    getHealth = () => [];\n\n    getTVL = () => this.data.tvl;\n\n    getAmounts = () => [{ asset: this.asset, amount: this.data.amount, value: this.data.value }];\n\n    getPendingRewards = () => [\n      { asset: this.asset, amount: this.data.pending, value: this.data.pendingValue },\n      { asset: this.reva, amount: this.data.pendingReva, value: this.data.pendingRevaValue },\n    ];\n\n    async load() {\n      const vault = await this.findVault();\n      this.data.vaultId = vault.id;\n      this.data.amount = vault.principal;\n      this.data.vaultHarvestPayload = vault.payload;\n\n      const { returnedRevaAmount, returnedTokenAmount } = await this.revault.methods\n        .harvestVault(this.data.vaultId, this.data.vaultHarvestPayload)\n        .call({ from: this.args.address });\n      this.data.pendingReva = bn(returnedRevaAmount);\n      this.data.pending = bn(returnedTokenAmount);\n\n      let info;\n      [this.data.value, this.data.pendingRevaValue, this.data.pendingValue, info] = await Promise.all([\n        this.oracle.valueOf(this.getNetwork().id, this.asset, this.data.amount),\n        this.oracle.valueOf(this.getNetwork().id, this.reva, this.data.pendingReva),\n        this.oracle.valueOf(this.getNetwork().id, this.asset, this.data.pending),\n        this.chef.methods.tokens(this.asset.address).call(),\n      ]);\n      const { tvlBusd } = info;\n      this.data.tvl = bn(tvlBusd);\n    }\n\n    private async findVault() {\n      const supportedVaults = {\n        [erc20s.bsc.WBNB().address]: { id: 0 }, // bunny\n        [erc20s.bsc.BUSD().address]: { id: 1 }, // bunny\n        [erc20s.bsc.CAKE().address]: { id: 2 }, // bunny\n      };\n      const payload = web3().eth.abi.encodeFunctionSignature(\"getReward()\"); //all bunny vaults\n      const vaultId = supportedVaults[this.asset.address].id;\n      const [vault, principal] = await Promise.all([this.revault.methods.vaults(vaultId).call(), this.revault.methods.userVaultPrincipal(vaultId, this.args.address).call()]);\n      return { ...vault, id: vaultId, principal: bn(principal), payload };\n    }\n\n    getContractMethods = () => _.functions(this.revault.methods);\n\n    async callContract(method: string, args: string[]) {\n      const tx = (this.revault.methods as any)[method](...args);\n      return await tx.call({ from: this.args.address });\n    }\n\n    async sendTransaction(method: string, args: string[]) {\n      const tx = (this.revault.methods as any)[method](...args);\n      alert(`target:\\n${this.revault.options.address}\\ndata:\\n${tx.encodeABI()}`);\n      await sendWithTxType(tx, true);\n    }\n\n    async harvest() {\n      await sendWithTxType(this.revault.methods.harvestVault(this.data.vaultId, this.data.vaultHarvestPayload), true);\n    }\n  }\n\n  class RevaStake implements Position {\n    staking = revaStaking();\n    reva = REVA();\n\n    data = {\n      amount: zero,\n      value: zero,\n      pendingAmount: zero,\n      pendingValue: zero,\n      tvl: zero,\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle, public poolId: number) {}\n\n    getName = () => ``;\n\n    getNetwork = () => networks.bsc;\n\n    getArgs = () => this.args;\n\n    getData = () => this.data;\n\n    getAssets = () => [this.reva];\n\n    getRewardAssets = () => [this.reva];\n\n    getHealth = () => [];\n\n    getTVL = () => this.data.tvl;\n\n    getAmounts = () => [{ asset: this.reva, amount: this.data.amount, value: this.data.value }];\n\n    getPendingRewards = () => [{ asset: this.reva, amount: this.data.pendingAmount, value: this.data.pendingValue }];\n\n    async load() {\n      const [userInfo, pending, poolInfo] = await Promise.all([\n        this.staking.methods.userPoolInfo(this.poolId, this.args.address).call(),\n        this.staking.methods.pendingReva(this.poolId, this.args.address).call(),\n        this.staking.methods.poolInfo(this.poolId).call(),\n      ]);\n      this.data.amount = bn(userInfo.amount);\n      this.data.pendingAmount = bn(pending);\n      [this.data.value, this.data.pendingValue, this.data.tvl] = await Promise.all([\n        this.oracle.valueOf(this.getNetwork().id, this.reva, this.data.amount),\n        this.oracle.valueOf(this.getNetwork().id, this.reva, this.data.pendingAmount),\n        this.oracle.valueOf(this.getNetwork().id, this.reva, bn(poolInfo.totalSupply)),\n      ]);\n    }\n\n    getContractMethods = () => _.functions(this.staking.methods);\n\n    async callContract(method: string, args: string[]) {\n      const tx = (this.staking.methods as any)[method](...args);\n      return await tx.call({ from: this.args.address });\n    }\n\n    async sendTransaction(method: string, args: string[]) {\n      const tx = (this.staking.methods as any)[method](...args);\n      alert(`target:\\n${this.staking.options.address}\\ndata:\\n${tx.encodeABI()}`);\n      await sendWithTxType(tx, true);\n    }\n\n    async harvest() {}\n  }\n}\n","import _ from \"lodash\";\nimport { Position, PositionArgs } from \"./base/Position\";\nimport { bn, contract, erc20, ether, Token, zero } from \"@defi.org/web3-candies\";\nimport { erc20s, networks, sendWithTxType } from \"./base/consts\";\nimport { PriceOracle } from \"./base/PriceOracle\";\nimport type { UniclyLpAbi } from \"../../typechain-abi/UniclyLpAbi\";\nimport type { UniclyXUnicAbi } from \"../../typechain-abi/UniclyXUnicAbi\";\n\nexport namespace Unicly {\n  interface Strategy {\n    asset: Token;\n    lp: Token & UniclyLpAbi;\n    poolId: number;\n  }\n\n  export const Strategies = {\n    uPunks: () => ({\n      asset: erc20(\"Unicly: uPUNK\", \"0x8d2BFfCbB19Ff14A698C424FbcDcFd17aab9b905\"),\n      lp: erc20<UniclyLpAbi>(\"Unicly: LP uPUNK/ETH\", \"0xc809Af9E3490bCB2B3bA2BF15E002f0A6a1F6835\", require(\"../abi/UniclyLpAbi.json\")),\n      poolId: 3,\n    }),\n    uJenny: () => ({\n      asset: erc20(\"Unicly: uJenny\", \"0xa499648fD0e80FD911972BbEb069e4c20e68bF22\"),\n      lp: erc20<UniclyLpAbi>(\"Unicly: LP uJenny/ETH\", \"0xEC5100AD159F660986E47AFa0CDa1081101b471d\", require(\"../abi/UniclyLpAbi.json\")),\n      poolId: 18,\n    }),\n  };\n\n  export class XUnicFarm implements Position {\n    xfarm = contract<UniclyXUnicAbi>(require(\"../abi/UniclyXUnicAbi.json\"), \"0x07306aCcCB482C8619e7ed119dAA2BDF2b4389D0\");\n    unic = erc20(\"UNIC\", \"0x94E0BAb2F6Ab1F19F4750E42d7349f2740513aD5\");\n    xunic = erc20(\"xUNIC\", \"0xA62fB0c2Fb3C7b27797dC04e1fEA06C0a2Db919a\");\n    eth = erc20s.eth.WETH();\n\n    data = {\n      amountLP: zero,\n      amountAsset: zero,\n      amountETH: zero,\n      valueAsset: zero,\n      valueETH: zero,\n      rewardAmount: zero,\n      rewardValue: zero,\n      tvl: zero,\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle, public strategy: Strategy) {}\n\n    getName = () => ``;\n\n    getArgs = () => this.args;\n\n    getNetwork = () => networks.eth;\n\n    getAssets = () => [this.strategy.asset, this.eth];\n\n    getRewardAssets = () => [this.xunic];\n\n    getData = () => this.data;\n\n    getHealth = () => [];\n\n    getAmounts = () => [\n      {\n        asset: this.strategy.asset,\n        amount: this.data.amountAsset,\n        value: this.data.valueAsset,\n      },\n      {\n        asset: this.eth,\n        amount: this.data.amountETH,\n        value: this.data.valueETH,\n      },\n    ];\n\n    getPendingRewards = () => [\n      {\n        asset: this.xunic,\n        amount: this.data.rewardAmount,\n        value: this.data.rewardValue,\n      },\n    ];\n\n    getTVL = () => this.data.tvl;\n\n    async load() {\n      const [userInfo, reserves, token0, totalSupply, pending, poolInfo, xunicrate] = await Promise.all([\n        this.xfarm.methods.userInfo(this.strategy.poolId, this.args.address).call(),\n        this.strategy.lp.methods.getReserves().call(),\n        this.strategy.lp.methods.token0().call(),\n        this.strategy.lp.methods.totalSupply().call(),\n        this.xfarm.methods.pendingxUNICs(this.strategy.poolId, this.args.address).call(),\n        this.xfarm.methods.poolInfo(this.strategy.poolId).call(),\n        this.xfarm.methods.getxUNICRate().call(),\n      ]);\n      const { _reserve0, _reserve1 } = reserves;\n      const r0 = token0.toLowerCase() === this.strategy.asset.address.toLowerCase() ? _reserve0 : _reserve1;\n      const r1 = r0 === _reserve0 ? _reserve1 : _reserve0;\n      this.data.amountLP = bn(userInfo.amount);\n      this.data.rewardAmount = await this.xunic.mantissa(pending);\n\n      this.data.amountAsset = await this.strategy.asset.mantissa(bn(r0).mul(this.data.amountLP).div(bn(totalSupply)));\n      this.data.amountETH = await this.eth.mantissa(bn(r1).mul(this.data.amountLP).div(bn(totalSupply)));\n\n      [this.data.valueAsset, this.data.valueETH, this.data.rewardValue, this.data.tvl] = await Promise.all([\n        this.oracle.valueOf(this.getNetwork().id, this.strategy.asset, this.data.amountAsset),\n        this.oracle.valueOf(this.getNetwork().id, this.eth, this.data.amountETH),\n        this.oracle.valueOf(this.getNetwork().id, this.unic, this.data.rewardAmount.mul(bn(xunicrate)).div(ether)),\n        this.oracle.valueOf(this.getNetwork().id, this.eth, bn(r1).muln(2).mul(bn(poolInfo.totalLPTokens)).div(bn(totalSupply))),\n      ]);\n    }\n\n    getContractMethods = () => _.functions(this.xfarm.methods);\n\n    async callContract(method: string, args: string[]) {\n      const tx = (this.xfarm.methods as any)[method](...args);\n      return await tx.call({ from: this.args.address });\n    }\n\n    async sendTransaction(method: string, args: string[], useLegacyTx: boolean) {\n      const tx = (this.xfarm.methods as any)[method](...args);\n      alert(`target:\\n${this.xfarm.options.address}\\ndata:\\n${tx.encodeABI()}`);\n      await sendWithTxType(tx, useLegacyTx);\n    }\n\n    async harvest(useLegacyTx: boolean) {\n      await sendWithTxType(this.xfarm.methods.deposit(this.strategy.poolId, 0), useLegacyTx);\n    }\n  }\n}\n","import { Position, PositionArgs } from \"./base/Position\";\nimport { PriceOracle } from \"./base/PriceOracle\";\nimport { bn, erc20, zero } from \"@defi.org/web3-candies\";\nimport { networks, sendWithTxType } from \"./base/consts\";\nimport _ from \"lodash\";\n\nexport namespace Fodl {\n  export class XFodlStake implements Position {\n    fodl = erc20(\"FODL\", \"0x4C2e59D098DF7b6cBaE0848d66DE2f8A4889b9C3\");\n    xfodl = erc20(\"FODL: xFODL\", \"0x7e05540A61b531793742fde0514e6c136b5fbAfE\");\n\n    data = {\n      amount: zero,\n      value: zero,\n      tvl: zero,\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle) {}\n\n    getName = () => ``;\n\n    getNetwork = () => networks.eth;\n\n    getArgs = () => this.args;\n\n    getData = () => this.data;\n\n    getAssets = () => [this.fodl];\n\n    getRewardAssets = () => [this.xfodl];\n\n    getTVL = () => this.data.tvl;\n\n    getHealth = () => [];\n\n    getAmounts = () => [{ asset: this.fodl, amount: this.data.amount, value: this.data.value }];\n\n    getPendingRewards = () => [];\n\n    async load() {\n      const [myXfodl, xfodlTotalSupply, fodlStaked] = await Promise.all([\n        this.xfodl.methods.balanceOf(this.args.address).call().then(bn),\n        this.xfodl.methods.totalSupply().call().then(bn),\n        this.fodl.methods.balanceOf(this.xfodl.address).call().then(bn),\n      ]);\n      this.data.amount = myXfodl.mul(fodlStaked).div(xfodlTotalSupply);\n      this.data.value = await this.oracle.valueOf(this.getNetwork().id, this.fodl, this.data.amount);\n\n      this.data.tvl = await this.oracle.valueOf(this.getNetwork().id, this.fodl, fodlStaked);\n    }\n\n    getContractMethods = () => _.functions(this.xfodl.methods);\n\n    async callContract(method: string, args: string[]) {\n      const tx = (this.xfodl.methods as any)[method](...args);\n      return await tx.call({ from: this.args.address });\n    }\n\n    async sendTransaction(method: string, args: string[], useLegacyTx: boolean) {\n      const tx = (this.xfodl.methods as any)[method](...args);\n      alert(`target:\\n${this.xfodl.options.address}\\ndata:\\n${tx.encodeABI()}`);\n      await sendWithTxType(tx, useLegacyTx);\n    }\n\n    async harvest(useLegacyTx: boolean) {}\n  }\n}\n","import { Position, PositionArgs } from \"./base/Position\";\nimport { PriceOracle } from \"./base/PriceOracle\";\nimport { bn, erc20, Network, Token, web3, zero } from \"@defi.org/web3-candies\";\nimport { erc20s, networks } from \"./base/consts\";\nimport _ from \"lodash\";\nimport { PositionFactory } from \"./base/PositionFactory\";\nimport Web3 from \"web3\";\n\nexport namespace TokenBalances {\n  class TokenBalance implements Position {\n    data = {\n      name: \"\",\n      amount: zero,\n      value: zero,\n      totalSupply: zero,\n      mcap: zero,\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle, public network: Network, public token: Token) {}\n\n    getName = () => this.data.name;\n\n    getArgs = () => this.args;\n\n    getNetwork = () => this.network;\n\n    getData = () => this.data;\n\n    getAssets = () => [this.token];\n\n    getRewardAssets = () => [];\n\n    getPendingRewards = () => [];\n\n    getHealth = () => [];\n\n    async load() {\n      [this.data.name, this.data.amount, this.data.totalSupply] = await Promise.all([\n        this.token.methods.name().call(),\n        this.token.methods.balanceOf(this.args.address).call().then(this.token.mantissa),\n        this.token.methods.totalSupply().call().then(this.token.mantissa),\n      ]);\n      this.data.value = await this.oracle.valueOf(this.network.id, this.token, this.data.amount);\n      this.data.mcap = await this.oracle.valueOf(this.network.id, this.token, this.data.totalSupply);\n    }\n\n    getAmounts = () => [{ asset: this.token, amount: this.data.amount, value: this.data.value }];\n\n    getTVL = () => this.data.mcap;\n\n    getContractMethods = () => [];\n    async callContract(method: string, args: string[]) {}\n    async sendTransaction(method: string, args: string[], useLegacyTx: boolean) {}\n    async harvest(useLegacyTx: boolean) {}\n  }\n\n  const nativeTokens = {\n    eth: () => _.merge(erc20s.eth.WETH(), { name: \"ETH\" }),\n    bsc: () => _.merge(erc20s.bsc.WBNB(), { name: \"BNB\" }),\n    poly: () => _.merge(erc20s.poly.WMATIC(), { name: \"MATIC\" }),\n    avax: () => _.merge(erc20s.avax.WAVAX(), { name: \"AVAX\" }),\n    arb: () => _.merge(erc20s.arb.WETH(), { name: \"AETH\" }),\n  };\n\n  class NativeTokenBalance extends TokenBalance {\n    getName = () => this.token.name;\n\n    async load() {\n      [this.data.amount, this.data.totalSupply] = await Promise.all([web3().eth.getBalance(this.args.address).then(bn), this.token.methods.totalSupply().call().then(bn)]);\n      this.data.value = await this.oracle.valueOf(this.network.id, this.token, this.data.amount);\n      this.data.mcap = await this.oracle.valueOf(this.network.id, this.token, this.data.totalSupply);\n    }\n  }\n\n  export function register() {\n    _.forEach(networks, (n) => {\n      if (n.id < 0) return;\n      PositionFactory.register({\n        [`${n.shortname}:Token`]: (args, oracle) => new TokenBalance(args, oracle, n, erc20(\"\", Web3.utils.toChecksumAddress(args.input!))),\n      });\n\n      const t = (nativeTokens as any)[n.shortname];\n      if (t) PositionFactory.register({ [`${n.shortname}:TokenBase`]: (args, oracle) => new NativeTokenBalance(args, oracle, n, t()) });\n    });\n  }\n}\n","import { Position, PositionArgs, Severity } from \"./base/Position\";\nimport { PriceOracle } from \"./base/PriceOracle\";\nimport { bn, bn18, contract, ether, maxUint256, Network, Token, web3, zero } from \"@defi.org/web3-candies\";\nimport { PositionFactory } from \"./base/PositionFactory\";\nimport { erc20s, networks, sendWithTxType } from \"./base/consts\";\nimport type { UniswapNftManagerAbi } from \"../../typechain-abi/UniswapNftManagerAbi\";\nimport _ from \"lodash\";\n\nconst maxUint128 = bn(2).pow(bn(128)).subn(1).toString();\n\nexport namespace Uniswap {\n  export function register() {\n    PositionFactory.register({\n      \"eth:Uniswap:V3LP:WBTC/ETH\": (args, oracle) => new V3LP(args, oracle, networks.eth, erc20s.eth.WBTC(), erc20s.eth.WETH()),\n    });\n  }\n\n  class V3LP implements Position {\n    nftPositionManager = contract<UniswapNftManagerAbi>(require(\"../abi/UniswapNftManagerAbi.json\"), \"0xC36442b4a4522E871399CD717aBDD847Ab11FE88\");\n\n    data = {\n      id: 0,\n      amount0: zero,\n      amount1: zero,\n      value0: zero,\n      value1: zero,\n      tvl: zero,\n      principal0: zero,\n      principal1: zero,\n      valueIfHodl: zero,\n      valueNow: zero,\n      ilValue: zero,\n      il: zero,\n      pending0: zero,\n      pending1: zero,\n      pendingValue0: zero,\n      pendingValue1: zero,\n      totalFeesValue: zero,\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle, public network: Network, public token0: Token, public token1: Token) {\n      this.data.id = parseInt(args.input!);\n      if (this.data.id <= 0) throw new Error(\"unknown positionId\");\n    }\n\n    getName = () => \"\";\n    getNetwork = () => this.network;\n    getArgs = () => this.args;\n    getData = () => this.data;\n    getTVL = () => this.data.tvl;\n    getAssets = () => [this.token0, this.token1];\n    getAmounts = () => [\n      { asset: this.token0, amount: this.data.amount0, value: this.data.value0 },\n      { asset: this.token1, amount: this.data.amount1, value: this.data.value1 },\n    ];\n    getRewardAssets = () => [this.token0, this.token1];\n    getPendingRewards = () => [\n      { asset: this.token0, amount: this.data.pending0, value: this.data.pendingValue0 },\n      { asset: this.token1, amount: this.data.pending1, value: this.data.pendingValue1 },\n    ];\n    getHealth = () => {\n      if (this.data.ilValue.gt(this.data.totalFeesValue) || this.data.il.gt(bn18(0.01)))\n        return [\n          {\n            severity: Severity.High,\n            message: \"IL!\",\n          },\n        ];\n      return [];\n    };\n\n    async load() {\n      const pos = await this.nftPositionManager.methods.positions(this.data.id).call();\n      if (web3().utils.toChecksumAddress(pos.token0) !== web3().utils.toChecksumAddress(this.token0.address)) throw new Error(`invalid tokens for pos, ${pos}`);\n\n      const res = await this.nftPositionManager.methods.decreaseLiquidity([this.data.id, pos.liquidity, 0, 0, maxUint256]).call();\n      this.data.amount0 = await this.token0.mantissa(res.amount0);\n      this.data.amount1 = await this.token1.mantissa(res.amount1);\n\n      [this.data.value0, this.data.value1] = await Promise.all([\n        this.oracle.valueOf(this.network.id, this.token0, this.data.amount0),\n        this.oracle.valueOf(this.network.id, this.token1, this.data.amount1),\n      ]);\n\n      const graph = await positionGraph(this.data.id);\n      this.data.tvl = graph.tvl;\n      this.data.principal0 = graph.principal0;\n      this.data.principal1 = graph.principal1;\n\n      const [principalValue0, principalValue1] = await Promise.all([\n        this.oracle.valueOf(this.network.id, this.token0, this.data.principal0),\n        this.oracle.valueOf(this.network.id, this.token1, this.data.principal1),\n      ]);\n      this.data.valueIfHodl = principalValue0.add(principalValue1);\n      this.data.valueNow = this.data.value0.add(this.data.value1);\n      this.data.ilValue = this.data.valueIfHodl.sub(this.data.valueNow);\n      this.data.il = ether.sub(this.data.valueNow.mul(ether).div(this.data.valueIfHodl));\n      const pending = await this.nftPositionManager.methods.collect([this.data.id, this.args.address, maxUint128, maxUint128]).call({ from: this.args.address });\n      this.data.pending0 = await this.token0.mantissa(pending.amount0);\n      this.data.pending1 = await this.token1.mantissa(pending.amount1);\n      this.data.pendingValue0 = await this.oracle.valueOf(this.getNetwork().id, this.token0, this.data.pending0);\n      this.data.pendingValue1 = await this.oracle.valueOf(this.getNetwork().id, this.token1, this.data.pending1);\n\n      this.data.totalFeesValue = this.data.pendingValue0.add(this.data.pendingValue1).add(graph.collectedFees0).add(graph.collectedFees1);\n      // console.log(pos.tickUpper, pos.tickLower, graph.tick);\n    }\n\n    getContractMethods = () => _.functions(this.nftPositionManager.methods);\n\n    async callContract(method: string, args: string[]) {\n      const tx = (this.nftPositionManager.methods as any)[method](...args);\n      return await tx.call({ from: this.args.address });\n    }\n\n    async sendTransaction(method: string, args: string[], useLegacyTx: boolean) {\n      const tx = (this.nftPositionManager.methods as any)[method](...args);\n      alert(`target:\\n${this.nftPositionManager.options.address}\\ndata:\\n${tx.encodeABI()}`);\n      await sendWithTxType(tx, useLegacyTx);\n    }\n\n    async harvest(useLegacyTx: boolean) {\n      await sendWithTxType(this.nftPositionManager.methods.collect([this.data.id, this.args.address, maxUint128, maxUint128]), useLegacyTx);\n    }\n  }\n}\n\nasync function positionGraph(posId: number) {\n  const response = await fetch(\"https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3\", {\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      query: `{position(id:${posId}) {\n          depositedToken0\n          depositedToken1\n          withdrawnToken0\n          withdrawnToken1\n          collectedFeesToken0\n          collectedFeesToken1\n          pool {\n            totalValueLockedUSD\n            tick\n          }\n        }\n      }`,\n    }),\n    method: \"POST\",\n  });\n  const json = await response.json();\n  return {\n    tvl: bn18(json.data.position.pool.totalValueLockedUSD),\n    principal0: bn18(json.data.position.depositedToken0).sub(bn18(json.data.position.withdrawnToken0)),\n    principal1: bn18(json.data.position.depositedToken1).sub(bn18(json.data.position.withdrawnToken1)),\n    collectedFees0: bn18(json.data.position.collectedFeesToken0),\n    collectedFees1: bn18(json.data.position.collectedFeesToken1),\n    tick: json.data.position.pool.tick,\n  };\n}\n","import { PositionFactory } from \"./base/PositionFactory\";\nimport { Position, PositionArgs } from \"./base/Position\";\nimport { PriceOracle } from \"./base/PriceOracle\";\nimport { networks } from \"./base/consts\";\nimport { bn18, erc20, Token, zero, zeroAddress } from \"@defi.org/web3-candies\";\nimport _ from \"lodash\";\n\nexport namespace OffChain {\n  export function register() {\n    PositionFactory.register({\n      \"x:OffChain:Asset\": (args, oracle) => new AssetPosition(args, oracle),\n    });\n  }\n\n  export type Asset = Token & { symbol: string };\n\n  class AssetPosition implements Position {\n    token: Asset;\n    data = {\n      amount: zero,\n      value: zero,\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle) {\n      if (!args.input) throw new Error(\"input amount required\");\n      if (!args.address) throw new Error(\"address symbol required\");\n      this.token = _.merge(erc20(args.address, zeroAddress), { symbol: args.address });\n      this.data.amount = bn18(args.input);\n    }\n\n    getName = () => `OffChain:${this.token.name}`;\n\n    getArgs = () => this.args;\n\n    getNetwork = () => networks.off;\n\n    getData = () => this.data;\n\n    getAssets = () => [this.token];\n\n    getRewardAssets = () => [];\n\n    getPendingRewards = () => [];\n\n    getHealth = () => [];\n\n    async load() {\n      this.data.value = await this.oracle.valueOf(this.getNetwork().id, this.token, this.data.amount);\n    }\n\n    getAmounts = () => [{ asset: this.token, amount: this.data.amount, value: this.data.value }];\n\n    getTVL = () => zero;\n\n    getContractMethods = () => [];\n\n    async callContract(method: string, args: string[]) {}\n\n    async sendTransaction(method: string, args: string[], useLegacyTx: boolean) {}\n\n    async harvest(useLegacyTx: boolean) {}\n  }\n}\n","import { PositionFactory } from \"./base/PositionFactory\";\nimport { Position, PositionArgs } from \"./base/Position\";\nimport { PriceOracle } from \"./base/PriceOracle\";\nimport { erc20s, networks } from \"./base/consts\";\nimport { Abi, bn, contract, eqIgnoreCase, erc20, ether, parseEvents, Token, web3, zero } from \"@defi.org/web3-candies\";\nimport type { AlphaHomoraBankAbi } from \"../../typechain-abi/AlphaHomoraBankAbi\";\nimport { AlphaHomoraJoeFarmAbi } from \"../../typechain-abi/AlphaHomoraJoeFarmAbi\";\nimport _ from \"lodash\";\n\nexport namespace AlphaHomora {\n  export function register() {\n    PositionFactory.register({\n      \"avax:AlphaHomora:WETHe/AVAX\": (args, oracle) => new LYF(args, oracle, erc20s.avax.WETHe(), erc20s.avax.WAVAX()),\n    });\n  }\n\n  class LYF implements Position {\n    baseToken = erc20s.avax.WAVAX();\n    alphaHomoraBank = contract<AlphaHomoraBankAbi>(require(\"../abi/AlphaHomoraBankAbi.json\"), \"0x376d16C7dE138B01455a51dA79AD65806E9cd694\");\n    maxHistoryBlocks = {\n      [networks.avax.id]: 10_000_000,\n    };\n\n    data = {\n      id: 0,\n      supply0: zero,\n      supply1: zero,\n      borrow0: zero,\n      borrow1: zero,\n      amount0: zero,\n      amount1: zero,\n      value0: zero,\n      value1: zero,\n      pending: zero,\n      pendingValue: zero,\n      tvl: zero,\n      valueIfHodl: zero,\n      ilAmount: zero,\n      il: zero,\n      debtRatio: zero,\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle, public token0: Token, public token1: Token) {\n      this.data.id = parseInt(args.input!);\n      if (!this.data.id) throw new Error(\"invalid input positionId\");\n    }\n\n    getName = () => \"\";\n    getNetwork = () => networks.avax;\n    getArgs = () => this.args;\n    getData = () => this.data;\n    getTVL = () => this.data.tvl;\n    getAssets = () => [this.token0, this.token1];\n    getAmounts = () => [\n      { asset: this.token0, amount: this.data.amount0, value: this.data.value0 },\n      { asset: this.token1, amount: this.data.amount1, value: this.data.value1 },\n    ];\n    getRewardAssets = () => []; // TODO\n    getPendingRewards = () => []; // TODO\n    getHealth = () => []; // TODO\n\n    async load() {\n      const pos = await this.alphaHomoraBank.methods.getPositionInfo(this.data.id).call();\n      const lpSupplied = bn(pos.collateralSize);\n      const nft = contract<AlphaHomoraJoeFarmAbi>(require(\"../abi/AlphaHomoraJoeFarmAbi.json\"), pos.collToken);\n      const lpToken = erc20(\"\", await nft.methods.getUnderlyingToken(pos.collId).call());\n      const totalLPs = await lpToken.methods.totalSupply().call().then(bn);\n      const share = lpSupplied.mul(ether).div(totalLPs);\n      const total0 = await this.token0.methods.balanceOf(lpToken.address).call().then(bn);\n      const total1 = await this.token1.methods.balanceOf(lpToken.address).call().then(bn);\n      this.data.supply0 = total0.mul(share).div(ether);\n      this.data.supply1 = total1.mul(share).div(ether);\n\n      const debts = await this.alphaHomoraBank.methods.getPositionDebts(this.data.id).call();\n      this.data.borrow0 = bn(debts.debts[_.indexOf(debts.tokens, this.token0.address)]);\n      this.data.borrow1 = bn(debts.debts[_.indexOf(debts.tokens, this.token1.address)]);\n\n      this.data.amount0 = this.data.supply0.sub(this.data.borrow0);\n      this.data.amount1 = this.data.supply1.sub(this.data.borrow1);\n      this.data.value0 = await this.oracle.valueOf(this.getNetwork().id, this.token0, this.data.amount0);\n      this.data.value1 = await this.oracle.valueOf(this.getNetwork().id, this.token1, this.data.amount1);\n\n      await this.loadDeposits();\n\n      await this.loadDebtRatio();\n    }\n\n    private async loadDeposits() {\n      const depositAbi = _(this.alphaHomoraBank.options.jsonInterface).find((x) => x.type === \"function\" && x.name === \"execute\")!;\n      const depositSig = web3().eth.abi.encodeFunctionSignature(depositAbi);\n\n      const currentBlock = await web3().eth.getBlockNumber();\n      const earliestBlock = currentBlock - this.maxHistoryBlocks[this.getNetwork().id];\n\n      const apiKey = \"\"; // TODO\n      const alltxsResponse = await fetch(`https://api.snowtrace.io/api?module=account&action=txlist\n&fromBlock=${earliestBlock}\n&toBlock=${currentBlock}\n&address=${this.args.address}\n&sort=asc&apikey=${apiKey}`);\n      const alltxs = await alltxsResponse.json();\n      const relevantTxs = _.filter(alltxs.result, (tx) => eqIgnoreCase(tx.to, this.alphaHomoraBank.options.address) && tx.input.startsWith(depositSig));\n      if (relevantTxs.length != 1) {\n        console.error(\"no / too many deposits\");\n        return;\n      }\n      const deposit = relevantTxs[0];\n      const receipt = await web3().eth.getTransactionReceipt(deposit.hash);\n      const events = parseEvents(receipt, this.token0);\n\n      const depositEvent = events.find((e) => e.event === \"Transfer\" && eqIgnoreCase(e.address, this.token0.address) && eqIgnoreCase(e.returnValues.from, this.args.address))!;\n      const deposit0 = bn(depositEvent.returnValues.value);\n      const deposit1 = _.reduce(relevantTxs, (sum, tx) => sum.add(bn(tx.value)), zero);\n      const valueNow0 = await this.oracle.valueOf(this.getNetwork().id, this.token0, deposit0);\n      const valueNow1 = await this.oracle.valueOf(this.getNetwork().id, this.token1, deposit1);\n\n      this.data.valueIfHodl = valueNow0.add(valueNow1);\n      const valueNow = this.data.value0.add(this.data.value1);\n      this.data.ilAmount = this.data.valueIfHodl.sub(valueNow);\n      this.data.il = ether.sub(valueNow.mul(ether).div(this.data.valueIfHodl));\n    }\n\n    private async loadDebtRatio() {\n      /*\n        struct TokenFactors {\n      uint16 borrowFactor; // The borrow factor for this token, multiplied by 1e4.\n      uint16 collateralFactor; // The collateral factor for this token, multiplied by 1e4.\n      uint16 liqIncentive; // The liquidation incentive, multiplied by 1e4.\n      mapping(address => TokenFactors) public tokenFactors; // Mapping from token address to oracle info.\n  }\n         */\n\n      /*\n        struct TokenFactors {\n    uint16 borrowFactor; // The borrow factor for this token, multiplied by 1e4.\n    uint16 collateralFactor; // The collateral factor for this token, multiplied by 1e4.\n    uint16 liqIncentive; // The liquidation incentive, multiplied by 1e4.\n  }\n  \n  IBaseOracle public immutable source; // Main oracle source\n  mapping(address => TokenFactors) public tokenFactors; // Mapping from token address to oracle info.\n  mapping(address => bool) public whitelistERC1155; // Mapping from token address to whitelist status\n       */\n      const proxyOracleAbi: Abi = [\n        {\n          name: \"tokenFactors\",\n          type: \"function\",\n          stateMutability: \"view\",\n          inputs: [\n            {\n              internalType: \"address\",\n              name: \"token\",\n              type: \"address\",\n            },\n          ],\n          outputs: [\n            {\n              internalType: \"uint256\",\n              name: \"borrowFactor\",\n              type: \"uint256\",\n            },\n            {\n              internalType: \"uint256\",\n              name: \"collateralFactor\",\n              type: \"uint256\",\n            },\n            {\n              internalType: \"uint256\",\n              name: \"liqIncentive\",\n              type: \"uint256\",\n            },\n          ],\n        },\n      ];\n      const o = contract(proxyOracleAbi, await this.alphaHomoraBank.methods.oracle().call());\n      const f0 = bn((await o.methods.tokenFactors(this.token0.address).call()).borrowFactor).toNumber() / 1e4;\n      const f1 = bn((await o.methods.tokenFactors(this.token1.address).call()).borrowFactor).toNumber() / 1e4;\n      console.log(f0, f1);\n    }\n\n    getContractMethods = () => [];\n    async callContract(method: string, args: string[]) {}\n    async sendTransaction(method: string, args: string[], useLegacyTx: boolean) {}\n    async harvest(useLegacyTx: boolean) {}\n  }\n}\n","import { PositionFactory } from \"./base/PositionFactory\";\nimport { Pancakeswap } from \"./Pancakeswap\";\nimport { Loops } from \"./Loops\";\nimport { ElrondMaiar } from \"./ElrondMaiar\";\nimport { Revault } from \"./Revault\";\nimport { Unicly } from \"./Unicly\";\nimport { Fodl } from \"./Fodl\";\nimport { TokenBalances } from \"./TokenBalances\";\nimport { Uniswap } from \"./Uniswap\";\nimport { OffChain } from \"./OffChain\";\nimport { AlphaHomora } from \"./AlphaHomora\";\n\nexport function registerAllPositions() {\n  OffChain.register();\n  TokenBalances.register();\n\n  Uniswap.register();\n  Pancakeswap.register();\n  Revault.register();\n  AlphaHomora.register();\n\n  PositionFactory.register({\n    \"eth:Fodl:XFodlStake\": (args, oracle) => new Fodl.XFodlStake(args, oracle),\n\n    \"eth:Unicly:XUnicFarm:uPunks\": (args, oracle) => new Unicly.XUnicFarm(args, oracle, Unicly.Strategies.uPunks()),\n    \"eth:Unicly:XUnicFarm:uJenny\": (args, oracle) => new Unicly.XUnicFarm(args, oracle, Unicly.Strategies.uJenny()),\n\n    \"eth:Loops:AaveLoop\": (args, oracle) => new Loops.AaveLoop(args, oracle),\n    \"eth:Loops:CompoundLoop\": (args, oracle) => new Loops.CompoundLoop(args, oracle),\n\n    \"egld:Maiar:Farm:USDC/EGLD\": (args, oracle) => new ElrondMaiar.Farm(args, oracle, ElrondMaiar.FarmStrategies.USDC_EGLD()),\n    \"egld:Maiar:Farm:MEX/EGLD\": (args, oracle) => new ElrondMaiar.Farm(args, oracle, ElrondMaiar.FarmStrategies.MEX_EGLD()),\n    \"egld:Maiar:MEXFarm:MEX\": (args, oracle) => new ElrondMaiar.MexFarm(args, oracle, ElrondMaiar.MexFarmStrategies.MEX()),\n    \"egld:Maiar:MEXFarm:RIDE\": (args, oracle) => new ElrondMaiar.MexFarm(args, oracle, ElrondMaiar.MexFarmStrategies.RIDE()),\n  });\n}\n","import _ from \"lodash\";\nimport { createHook, createSelector, createStore, StoreActionApi } from \"react-sweet-state\";\nimport { Position, PositionArgs } from \"../positions/base/Position\";\nimport { PositionFactory } from \"../positions/base/PositionFactory\";\nimport { registerAllPositions } from \"../positions\";\nimport { to3, zero } from \"@defi.org/web3-candies\";\nimport { currentNetwork } from \"../positions/base/consts\";\nimport BN from \"bn.js\";\n\nregisterAllPositions();\n\nconst STORAGE_KEY = \"PositionArgs:v1\";\nexport const loadPositionsFromStorage = () => JSON.parse(localStorage.getItem(STORAGE_KEY) || \"{}\") as Record<string, PositionArgs>;\nexport const savePositionsToStorage = (data: Record<string, PositionArgs>) => localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n\nconst AllPositionsState = createStore({\n  name: \"AllPositionsState\",\n\n  initialState: {\n    positions: {} as Record<string, Position>,\n    ready: false,\n  },\n\n  actions: {\n    load: () => async (api) => {\n      await load(api);\n    },\n\n    addPosition: (type: string, address: string, input: string, name: string) => async (api) => {\n      const position = PositionFactory.create({ type, address, input, name, id: \"\" });\n      if (!position) {\n        alert(`unknown type ${type} at ${address}`);\n        return;\n      }\n\n      const data = _.mapValues(api.getState().positions, (p) => p.getArgs());\n      data[position.getArgs().id] = position.getArgs();\n      savePositionsToStorage(data);\n      await load(api);\n    },\n\n    update: (position: Position, newArgs: PositionArgs) => async (api) => {\n      const data = _.mapValues(api.getState().positions, (p) => p.getArgs());\n      data[position.getArgs().id] = newArgs;\n      savePositionsToStorage(data);\n      await load(api);\n    },\n\n    delete: (posId: string) => async (api) => {\n      const data = _.mapValues(api.getState().positions, (p) => p.getArgs());\n      delete data[posId];\n      savePositionsToStorage(data);\n      await load(api);\n    },\n\n    sendTransaction:\n      (posId: string, useLegacyTx: boolean, method: string, args: string[]) =>\n      async ({ getState }) => {\n        await getState().positions[posId].sendTransaction(method, args, useLegacyTx);\n      },\n\n    harvest:\n      (posId: string, useLegacyTx: boolean) =>\n      async ({ getState }) => {\n        await getState().positions[posId].harvest(useLegacyTx);\n      },\n  },\n});\n\nasync function load(api: StoreActionApi<typeof AllPositionsState.initialState>) {\n  console.log(\"LOAD positions\");\n  const current = api.getState().positions;\n  const positions = _.mapValues(loadPositionsFromStorage(), (args) => current[args.id] || PositionFactory.create(args));\n\n  for (const id in positions) if (!positions[id]) delete positions[id];\n\n  if (!api.getState().ready) await PositionFactory.oracle.warmup(_.values(positions));\n\n  const network = await currentNetwork();\n\n  await Promise.all(\n    _.map(positions, (p) => {\n      if (!p || !network || !PositionFactory.shouldLoad(p, network)) return;\n      return p.load().catch((e) => console.log(p.getArgs().type, e));\n    })\n  );\n  api.setState({ positions, ready: true });\n}\n\nexport const useAllPositionsActions = createHook(AllPositionsState, { selector: null });\n\nexport const useAllPositionRows = createHook(AllPositionsState, {\n  selector: createSelector(\n    (state) =>\n      _(state.positions)\n        .values()\n        .sortBy((p) => p.getArgs().type)\n        .value(),\n    (positions) =>\n      _.map(positions, (p) => ({\n        id: p.getArgs().id,\n        type: p.getArgs().type,\n        name: p.getArgs().name || p.getName() || p.getArgs().type,\n        chain: p.getNetwork().name,\n        health: p.getHealth(),\n        value: num(marketValue(p)),\n        pending: num(p.getPendingRewards().reduce((sum, v) => sum.add(v.value), zero)),\n        tvl: num(p.getTVL()),\n        position: p,\n        address: p.getArgs().address,\n      }))\n  ),\n});\nexport const useAllPositions = createHook(AllPositionsState, {\n  selector: (state) => state.positions,\n});\nexport const useAllPositionsReady = createHook(AllPositionsState, {\n  selector: (state) => state.ready,\n});\nexport const useAllPositionsTotals = createHook(AllPositionsState, {\n  selector: createSelector(\n    (state) => _.groupBy(state.positions, (p) => p.getNetwork().name),\n    (grouped) => ({\n      labels: _.keys(grouped),\n      totals: _.map(grouped, (positions) => num(_.reduce(positions, (sum, pos) => sum.add(marketValue(pos)), zero))),\n      total: num(_.reduce(grouped, (s, positions) => _.reduce(positions, (sum, p) => sum.add(marketValue(p)), zero).add(s), zero)),\n    })\n  ),\n});\n\nfunction num(bn: BN) {\n  return to3(bn, 18).toNumber() / 1000;\n}\n\nfunction marketValue(p: Position) {\n  return _.reduce(p.getAmounts(), (sum, v) => sum.add(v.value), zero);\n}\n","import { createHook, createSelector, createStore } from \"react-sweet-state\";\nimport { Position } from \"../positions/base/Position\";\nimport _ from \"lodash\";\nimport BN from \"bn.js\";\nimport { fmt18 } from \"@defi.org/web3-candies\";\n\nconst PositionDialogState = createStore({\n  name: \"PositionDialogState\",\n\n  initialState: {\n    position: null as Position | null,\n    useLegacy: false,\n    selectedMethod: \"\",\n    selectedMethodArgs: {},\n  },\n\n  actions: {\n    showPosition:\n      (position: Position) =>\n      async ({ setState, getState }) => {\n        if (getState().position !== position) {\n          setState({ position, selectedMethod: \"\", selectedMethodArgs: {}, useLegacy: false });\n        }\n      },\n\n    closeDialog:\n      () =>\n      async ({ setState }) => {\n        setState({ position: null });\n      },\n\n    selectMethod:\n      (method: string) =>\n      async ({ setState }) => {\n        setState({ selectedMethod: method, selectedMethodArgs: {} });\n      },\n\n    setMethodArg:\n      (index: number, arg: string) =>\n      async ({ setState, getState }) => {\n        setState({ selectedMethodArgs: { ...getState().selectedMethodArgs, [index]: arg } });\n      },\n\n    setUseLegacy:\n      (useLegacy: boolean) =>\n      async ({ setState }) => {\n        setState({ useLegacy });\n      },\n\n    harvest:\n      () =>\n      async ({ getState }) => {\n        await getState().position!.harvest(getState().useLegacy);\n      },\n\n    send:\n      () =>\n      async ({ getState }) => {\n        await getState().position!.sendTransaction(getState().selectedMethod, _.values(getState().selectedMethodArgs), getState().useLegacy);\n      },\n\n    call:\n      (showAlert: (a: string) => void) =>\n      async ({ getState }) => {\n        showAlert(await getState().position!.callContract(getState().selectedMethod, _.values(getState().selectedMethodArgs)));\n      },\n  },\n});\n\nexport const usePositionDialogActions = createHook(PositionDialogState, { selector: null });\nexport const usePositionDialogSelector = createHook(PositionDialogState, {\n  selector: createSelector(\n    (state) => state,\n    (state) => state.position?.getContractMethods().filter((m) => !m.startsWith(\"0x\") && m.endsWith(\")\")) || [],\n    (state) =>\n      state.selectedMethod\n        .substring(state.selectedMethod.indexOf(\"(\") + 1, state.selectedMethod.length - 1)\n        .split(\",\")\n        .filter((a) => a.length > 0),\n    (state) =>\n      _(state.position?.getAssets())\n        .mapKeys((a) => a.name)\n        .mapValues((v) => v.address)\n        .value(),\n    (state) =>\n      _(state.position?.getRewardAssets())\n        .mapKeys((a) => a.name)\n        .mapValues((v) => v.address)\n        .value(),\n    (state) => _.mapValues(state.position?.getData(), (v) => (v instanceof BN ? fmt18(v) : v)),\n    (state, positionMethods, selectedMethodArgTypes, assets, rewardAssets, data) => ({\n      position: state.position,\n      positionMethods,\n      selectedMethod: state.selectedMethod,\n      selectedMethodArgTypes,\n      useLegacy: state.useLegacy,\n      rawData: JSON.stringify({ assets, rewardAssets, data }, null, 4),\n    })\n  ),\n});\n","import { createHook, createStore } from \"react-sweet-state\";\nimport { PositionFactory } from \"../positions/base/PositionFactory\";\nimport _ from \"lodash\";\n\nconst AddPositionDialogState = createStore({\n  name: \"AddPositionDialogState\",\n\n  initialState: {\n    show: false,\n    type: \"\",\n    address: \"\",\n    input: \"\",\n    name: \"\",\n    valid: false,\n    allTypes: PositionFactory.allTypes().sort(),\n  },\n\n  actions: {\n    show:\n      () =>\n      async ({ setState }) => {\n        setState({ show: true, type: \"\", address: \"\", input: \"\", name: \"\", valid: false });\n      },\n\n    closeDialog:\n      () =>\n      async ({ setState }) => {\n        setState({ show: false });\n      },\n\n    setType:\n      (type: string) =>\n      async ({ setState, getState }) => {\n        const valid = PositionFactory.isValidArgs(type, getState().address);\n        setState({ type, valid });\n      },\n\n    setAddress:\n      (address: string) =>\n      async ({ setState, getState }) => {\n        address = _.trim(address);\n        const valid = PositionFactory.isValidArgs(getState().type, address);\n        setState({ address, valid });\n      },\n\n    setInput:\n      (input: string) =>\n      async ({ setState }) => {\n        input = _.trim(input);\n        setState({ input });\n      },\n\n    setName:\n      (name: string) =>\n      async ({ setState }) => {\n        name = _.trim(name);\n        setState({ name });\n      },\n  },\n});\n\nexport const useAddPositionDialog = createHook(AddPositionDialogState);\n","import React from \"react\";\nimport { useAppActions, useIsAppConnected } from \"../state/AppState\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, InputLabel, MenuItem, Select, TextField } from \"@mui/material\";\nimport { useAllPositionsActions } from \"../state/AllPositionsState\";\nimport { useAddPositionDialog } from \"../state/AddPositionDialogState\";\n\nexport const AddPositionBtn = () => {\n  const [isConnected] = useIsAppConnected();\n  const [, actions] = useAddPositionDialog();\n  return (\n    <Button disabled={!isConnected} onClick={() => actions.show()}>\n      + Position\n    </Button>\n  );\n};\n\nexport const AddPositionDialog = () => {\n  const [, appActions] = useAppActions();\n  const [state, actions] = useAddPositionDialog();\n  const [, allPositionActions] = useAllPositionsActions();\n\n  const close = () => actions.closeDialog();\n\n  const add = () => appActions.withLoading(() => allPositionActions.addPosition(state.type, state.address, state.input, state.name)).then(close);\n\n  return (\n    <div>\n      <Dialog open={state.show} onClose={close}>\n        <DialogTitle style={{ minWidth: \"28em\" }}>Add Position</DialogTitle>\n\n        <DialogContent>\n          <br />\n          <FormControl fullWidth>\n            <InputLabel>Position Type</InputLabel>\n            <Select value={state.type} label=\"Position Type\" onChange={(e) => actions.setType(e.target.value)}>\n              <MenuItem value=\"\" />\n              {state.allTypes.map((type) => (\n                <MenuItem key={type} value={type}>\n                  {type}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n\n          <br />\n          <br />\n          <TextField fullWidth id=\"outlined-basic\" variant=\"outlined\" label=\"Target Address\" onChange={(e) => actions.setAddress(e.target.value)} />\n\n          <br />\n          <br />\n          {<TextField fullWidth id=\"outlined-basic\" variant=\"outlined\" label=\"Name?\" onChange={(e) => actions.setName(e.target.value)} />}\n\n          <br />\n          <br />\n          {<TextField fullWidth id=\"outlined-basic\" variant=\"outlined\" label=\"Input?\" onChange={(e) => actions.setInput(e.target.value)} />}\n\n          <br />\n          <br />\n        </DialogContent>\n        <DialogActions>\n          <Button size=\"large\" disabled={!state.valid} onClick={add}>\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { useAllPositionRows, useAllPositions, useAllPositionsTotals } from \"../state/AllPositionsState\";\nimport { DataGrid, GridColDef } from \"@mui/x-data-grid\";\nimport { useAppState } from \"../state/AppState\";\nimport { usePositionDialogActions } from \"../state/PositionDialogState\";\nimport { commafy } from \"@defi.org/web3-candies\";\nimport { Threat } from \"../positions/base/Position\";\nimport { ListItemText } from \"@mui/material\";\nimport { AddPositionBtn } from \"./AddPositionDialog\";\nimport { ArcElement, Chart as ChartJS, Legend, Tooltip } from \"chart.js\";\nimport { Pie } from \"react-chartjs-2\";\n\nChartJS.register(ArcElement, Tooltip, Legend);\n\nconst columns: GridColDef[] = [\n  { field: \"chain\", headerName: \"Chain\", width: 120, align: \"left\" },\n  { field: \"name\", headerName: \"Position\", width: 300, align: \"left\" },\n  {\n    field: \"health\",\n    headerName: \"Health\",\n    width: 100,\n    align: \"center\",\n    headerAlign: \"center\",\n    valueFormatter: (v) => {\n      const value = v.value as Threat[];\n      if (!value.length) return \"\";\n      return value.map((t) => t.message).join(\"\");\n    },\n  },\n  {\n    field: \"value\",\n    headerName: \"Market Value\",\n    width: 100,\n    align: \"right\",\n    type: \"number\",\n    headerAlign: \"center\",\n    valueFormatter: (v) => \"$  \" + commafy((v.value as number).toFixed(0)),\n    sortable: true,\n  },\n  {\n    field: \"pending\",\n    headerName: \"Pending\",\n    width: 100,\n    align: \"right\",\n    type: \"number\",\n    headerAlign: \"center\",\n    valueFormatter: (v) => \"$  \" + commafy((v.value as number).toFixed(0)),\n    sortable: true,\n  },\n  {\n    field: \"tvl\",\n    headerName: \"TVL\",\n    width: 120,\n    align: \"right\",\n    type: \"number\",\n    headerAlign: \"center\",\n    valueFormatter: (v) => \"$  \" + commafy((v.value as number).toFixed(0)),\n    sortable: true,\n  },\n  { field: \"address\", headerName: \"Address\", width: 450, align: \"left\", headerAlign: \"center\" },\n];\n\nexport const AllPositionsTable = () => {\n  const [appState, appActions] = useAppState();\n  const [rows, actions] = useAllPositionRows(null);\n  const [positions] = useAllPositions();\n  const [, positionDialogActions] = usePositionDialogActions();\n  const [totals] = useAllPositionsTotals(null);\n\n  useEffect(() => {\n    if (appState.network?.id) appActions.withLoading(actions.load).then();\n  }, [appState.network, appActions, actions]);\n\n  const click = (p: any) => positionDialogActions.showPosition(positions[p.id.toString()]);\n\n  return (\n    <div style={{ height: \"100%\", width: \"90%\" }}>\n      <DataGrid rows={rows} columns={columns} onCellClick={click} autoHeight hideFooter />\n\n      <ListItemText>Total Market Value: $ {commafy(totals.total)}</ListItemText>\n\n      <AddPositionBtn />\n\n      <Pie\n        data={{\n          labels: totals.labels,\n          datasets: [\n            {\n              borderWidth: 2,\n              data: totals.totals,\n              backgroundColor: totals.totals.map((t) => colorOf(t, totals.total)),\n            },\n          ],\n        }}\n        options={{ responsive: false, plugins: { legend: { display: false } } }}\n        height=\"400\"\n      />\n    </div>\n  );\n};\n\nfunction colorOf(num: number, total: number) {\n  return bgColors[Math.round((num / total) * (bgColors.length - 1))];\n}\n\nconst bgColors = [\"#F1E0AC\", \"#98B4AA\", \"#74959A\", \"#495371\"];\n","import React from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  FormControl,\n  FormControlLabel,\n  FormGroup,\n  InputLabel,\n  MenuItem,\n  Select,\n  Switch,\n  TextField,\n} from \"@mui/material\";\nimport { usePositionDialogSelector } from \"../state/PositionDialogState\";\nimport { useAppState } from \"../state/AppState\";\nimport { useAllPositions } from \"../state/AllPositionsState\";\n\nexport const PositionDialog = () => {\n  const [, appStateActions] = useAppState();\n  const [selector, actions] = usePositionDialogSelector(null);\n  const [, allPositionsActions] = useAllPositions();\n\n  const close = () => actions.closeDialog();\n\n  const deletePos = () => appStateActions.withLoading(() => allPositionsActions.delete(selector.position!.getArgs().id)).then(close);\n\n  // const updatePos = () => appStateActions.withLoading(() => allPositionsActions.update(selector.position!, selector.position!.getArgs())).then(close);\n\n  const showData = () => appStateActions.showAlert(selector.rawData);\n\n  const harvest = () => appStateActions.withLoading(() => actions.harvest()).then(close);\n\n  const send = () => appStateActions.withLoading(() => actions.send()).then(close);\n\n  const call = () => appStateActions.withLoading(() => actions.call(appStateActions.showAlert));\n\n  return (\n    <div>\n      <Dialog open={!!selector.position} onClose={close}>\n        <DialogTitle>Position: {selector.position?.getArgs()?.name || selector.position?.getArgs()?.type}</DialogTitle>\n        <DialogContent>\n          <DialogContentText>Network: {selector.position?.getNetwork()?.name}</DialogContentText>\n          <DialogContentText>Address: {selector.position?.getArgs()?.address}</DialogContentText>\n          {selector.position?.getArgs()?.input && <DialogContentText>Input: {selector.position?.getArgs()?.input}</DialogContentText>}\n\n          <br />\n          <FormControl fullWidth>\n            <InputLabel>Method</InputLabel>\n            <Select value={selector.selectedMethod} label=\"Method\" onChange={(e) => actions.selectMethod(e.target.value)}>\n              {selector.positionMethods.map((m) => (\n                <MenuItem key={m} value={m}>\n                  {m}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n\n          <br />\n          {selector.selectedMethodArgTypes.length > 0 &&\n            selector.selectedMethodArgTypes.map((argType, i) => (\n              <TextField\n                key={argType + i}\n                autoFocus\n                margin=\"dense\"\n                id={argType + i}\n                label={argType}\n                type=\"text\"\n                fullWidth\n                variant=\"standard\"\n                onChange={(e) => actions.setMethodArg(i, e.target.value)}\n              />\n            ))}\n\n          <br />\n          <br />\n\n          <FormGroup>\n            <FormControlLabel control={<Switch checked={selector.useLegacy} onChange={(e: any) => actions.setUseLegacy(e.target.checked)} />} label=\"Use Legacy Transaction Type\" />\n          </FormGroup>\n        </DialogContent>\n\n        <DialogActions>\n          <Button onClick={deletePos}>Delete Position</Button>\n\n          <Button onClick={showData}>Show Data</Button>\n\n          <Button onClick={harvest}>Just Harvest</Button>\n\n          <Button disabled={!selector.selectedMethod} onClick={call}>\n            Call Contract\n          </Button>\n\n          <Button disabled={!selector.selectedMethod} onClick={send}>\n            Send Transaction\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useAppState } from \"../state/AppState\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from \"@mui/material\";\n\nlet memAlert = \"\";\n\nexport const AlertDialog = () => {\n  const [appState, appStateActions] = useAppState();\n  memAlert = appState.alertDialog || memAlert;\n\n  const close = () => appStateActions.showAlert(\"\");\n\n  return (\n    <div>\n      <Dialog open={!!appState.alertDialog} onClose={close}>\n        <DialogTitle style={{ minWidth: \"28em\" }}>Alert</DialogTitle>\n\n        <DialogContent>\n          <DialogContentText style={{ whiteSpace: \"pre\" }}>{memAlert}</DialogContentText>\n        </DialogContent>\n\n        <DialogActions>\n          <Button size=\"large\" onClick={close}>\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Button, ButtonGroup } from \"@mui/material\";\nimport { loadPositionsFromStorage, savePositionsToStorage } from \"../state/AllPositionsState\";\nimport { PositionArgs } from \"../positions/base/Position\";\n\nconst downloadFile = (data: string, fileName: string, fileType: \"text/json\" | \"text/csv\") => {\n  const blob = new Blob([data], { type: fileType });\n\n  const a = document.createElement(\"a\");\n  a.download = fileName;\n  a.href = window.URL.createObjectURL(blob);\n  a.dispatchEvent(\n    new MouseEvent(\"click\", {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n    })\n  );\n  a.remove();\n};\n\nconst exportPositionsJson = (e: any) => {\n  const data = JSON.stringify(loadPositionsFromStorage(), null, 2);\n  const name = `Positions-V1-${new Date().toISOString().split(\"T\")[0]}.json`;\n  downloadFile(data, name, \"text/json\");\n};\n\nconst importPositionsJson = (e: any) => {\n  const a = document.createElement(\"input\");\n  a.type = \"file\";\n  a.accept = \"application/json\";\n  a.hidden = true;\n  a.id = \"inputJsonFile\";\n  a.dispatchEvent(\n    new MouseEvent(\"click\", {\n      view: window,\n      bubbles: true,\n      cancelable: true,\n    })\n  );\n  a.addEventListener(\"change\", () => {\n    const file = a.files![0];\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const str = e.target?.result?.toString();\n      const data = JSON.parse(str || \"{}\") as Record<string, PositionArgs>;\n      console.log(\"parsed\", data);\n      savePositionsToStorage(data);\n      a.remove();\n      window.location.reload();\n    };\n    reader.readAsText(file, \"utf8\");\n  });\n};\n\nexport const ImportExport = () => {\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-around\" }}>\n      <ButtonGroup variant=\"outlined\" aria-label=\"outlined button group\">\n        <Button onClick={importPositionsJson}>Import JSON</Button>\n        <Button onClick={exportPositionsJson}>Export JSON</Button>\n      </ButtonGroup>\n    </div>\n  );\n};\n","import React from \"react\";\nimport \"./App.css\";\nimport { Backdrop, CircularProgress, createTheme, ThemeProvider } from \"@mui/material\";\nimport { useIsLoading } from \"./state/AppState\";\nimport { AppHeader } from \"./ui/AppHeader\";\nimport { AllPositionsTable } from \"./ui/AllPositionsTable\";\nimport { AddPositionDialog } from \"./ui/AddPositionDialog\";\nimport { PositionDialog } from \"./ui/PositionDialog\";\nimport { AlertDialog } from \"./ui/AlertDialog\";\nimport { ImportExport } from \"./ui/ImportExport\";\n\nconst darkTheme = createTheme({\n  palette: {\n    mode: \"dark\",\n  },\n});\n\nexport const App = () => {\n  return (\n    <ThemeProvider theme={darkTheme}>\n      <div className=\"App\">\n        <AppHeader />\n\n        <AllPositionsTable />\n\n        <br />\n        <br />\n\n        <ImportExport />\n\n        <br />\n\n        <div>\n          <AddPositionDialog />\n          <PositionDialog />\n          <AlertDialog />\n        </div>\n\n        <div>\n          <Loading />\n        </div>\n      </div>\n    </ThemeProvider>\n  );\n};\n\nconst Loading = () => {\n  const [loading] = useIsLoading();\n  return (\n    <Backdrop sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.modal + 1 }} open={loading}>\n      <CircularProgress color=\"inherit\" />\n    </Backdrop>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\nimport \"./index.css\";\nimport { Homepage } from \"./Homepage\";\nimport { App } from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <div>\n        <Switch>\n          <Route path=\"/dashboard\" component={App} />\n          <Route path=\"/\" component={Homepage} />\n        </Switch>\n      </div>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.log);\n","import React from \"react\";\nimport \"./Homepage.css\";\nimport OrbsLogo from \"./assets/orbs.png\";\nimport DeFiLogo from \"./assets/logo.svg\";\nimport LI1 from \"./assets/list-icon1.svg\";\nimport LI2 from \"./assets/list-icon2.svg\";\nimport LI3 from \"./assets/list-icon3.svg\";\nimport LI4 from \"./assets/list-icon4.svg\";\nimport LI5 from \"./assets/list-icon5.svg\";\nimport DotLine from \"./assets/dotted-line.svg\";\nimport Geom1 from \"./assets/geom1.png\";\nimport Geom2 from \"./assets/geom2.png\";\n\n/* eslint-disable */\nexport const Homepage = () => {\n  return (\n    <div>\n      <div className=\"PartnersSection row\" style={{ paddingTop: \"0px\" }}>\n        <div className=\"LogoSection column\">\n          <div className=\"StrategicPartnersLabel large\">MANAGING PARTNERS</div>\n          <div className=\"StrategicPartnersList row\" style={{ marginTop: \"25px\" }}>\n            <a className=\"OrbsLogo\" href=\"https://www.orbs.com\">\n              <img className=\"OrbsLogo\" src={OrbsLogo} alt={\"Orbs\"} />\n            </a>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"TitleSection column\">\n        <img className=\"logo\" src={DeFiLogo} />\n        <div>\n          <h1>\n            DeFi<span className=\"small\">.js</span>\n          </h1>\n          <p>Community-led initiative to standardize the management of Decentralized Finance positions programmatically</p>\n        </div>\n        <p>UNDER CONSTRUCTION</p>\n      </div>\n      <div className=\"LightSection column spaced\">\n        <h3>Simplify and standardize DeFi position management</h3>\n        <div className=\"IconList row\">\n          <div className=\"column\">\n            <img src={LI1} />\n            <p>Discover and quickly assess leading DeFi protocol strategies</p>\n          </div>\n          <div className=\"column\">\n            <img src={LI2} />\n            <p>Monitor key position properties ex. APY, TVL, rewards</p>\n          </div>\n          <div className=\"column\">\n            <img src={LI3} />\n            <p>Monitor position health and governance</p>\n          </div>\n          <div className=\"column\">\n            <img src={LI4} />\n            <p>Compare historical performances between strategies</p>\n          </div>\n          <div className=\"column\">\n            <img src={LI5} />\n            <p>Composability and interop with the ecosystem</p>\n          </div>\n        </div>\n      </div>\n      <div className=\"DarkSection row DarkAbstract\">\n        <div className=\"Half column\">\n          <div className=\"SectionTitle\">\n            <h2>THE API</h2>\n            <img src={DotLine} />\n          </div>\n        </div>\n        <div className=\"Half column\">\n          <ul className=\"BulletList\">\n            <li>getNetwork(): Network</li>\n            <li>getAssets(): Token[]</li>\n            <li>getRewardAssets(): Token[]</li>\n            <li>getTVL(): Promise&lt;BN&gt;</li>\n            <li>getAPR(): Promise&lt;BN&gt;</li>\n            <li>getHealth(): Promise&lt;Threat[]&gt;</li>\n            <li>getPendingRewards(): Promise&lt;TokenAmount[]&gt;</li>\n          </ul>\n        </div>\n      </div>\n\n      <div className=\"Footer row\">\n        <span> 2020 defi.org</span>\n        <a href=\"https://www.announcements.defi.org/\">Announcements</a>\n        <a href=\"https://www.privacypolicies.com/generic/\">Privacy</a>\n        <a href=\"https://github.com/defi-org-code\">GitHub</a>\n        <a href=\"https://t.me/defiorg\">Telegram</a>\n        <a href=\"mailto:hello@defi.org\">hello@defi.org</a>\n      </div>\n\n      <div id=\"geometry_container\" hidden={true}>\n        <div style={{ width: \"15%\", maxWidth: \"180px\", position: \"absolute\", left: \"15%\", top: \"-70px\" }}>\n          <img src={Geom1} width=\"100%\" />\n        </div>\n        <div style={{ width: \"15%\", maxWidth: \"360px\", position: \"absolute\", left: \"70%\", top: \"20px\" }}>\n          <img src={Geom2} width=\"100%\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import _ from \"lodash\";\nimport BN from \"bn.js\";\nimport { Position, PositionArgs, TokenAmount } from \"./base/Position\";\nimport { PriceOracle } from \"./base/PriceOracle\";\nimport { bn, erc20, ether, to18, Token, zero, zeroAddress } from \"@defi.org/web3-candies\";\nimport {\n  Address,\n  BigUIntType,\n  BigUIntValue,\n  BinaryCodec,\n  BytesValue,\n  ContractFunction,\n  ProxyProvider,\n  SmartContract,\n  StructType,\n  TokenIdentifierType,\n  U64Type,\n} from \"@elrondnetwork/erdjs\";\nimport BigNumberExt from \"bignumber.js\";\nimport { BooleanType, StructFieldDefinition, U8Type } from \"@elrondnetwork/erdjs/out\";\n\nexport namespace ElrondMaiar {\n  export const network = { id: -508, name: \"Elrond\", shortname: \"egld\" };\n\n  const provider = new ProxyProvider(\"https://gateway.elrond.com\", { timeout: 60 * 1000 });\n\n  export type ESDT = Token & { esdt: true; tokenId: string; dec: number };\n\n  const tokens = {\n    EGLD: () => esdt(\"WEGLD\", \"WEGLD-bd4d79\", 18),\n    USDC: () => esdt(\"USDC\", \"USDC-c76f1f\", 6),\n    MEX: () => esdt(\"MEX\", \"MEX-455c57\", 18),\n    RIDE: () => esdt(\"RIDE\", \"RIDE-7d18e9\", 18),\n    LKMEX: () => esdt(\"LKMEX\", \"LKMEX-aab910\", 18),\n\n    LKFARM: () => esdt(\"LKFARM\", \"LKFARM-9d1ea8\", 18),\n    EGLD_MEX_FARM: () => esdt(\"EGLDMEXF\", \"EGLDMEXF-5bcc57\", 18),\n    MEX_POOL_NFT: () => esdt(\"MEX Pool NFT\", \"MEXFARM-e7af52\", 18),\n    RIDE_POOL_NFT: () => esdt(\"RIDE Pool NFT\", \"MEXRIDEF-bf0320\", 18),\n  };\n\n  export async function balances(oracle: PriceOracle, address: string): Promise<TokenAmount[]> {\n    const assets = _.map(tokens, (t) => t());\n\n    const [esdts, balanceEGLD] = await Promise.all([\n      provider.getAddressEsdtList(new Address(address)),\n      provider.getAccount(new Address(address)).then((r) => bn(r.balance.toString())),\n    ]);\n\n    const balances = await Promise.all(\n      _(esdts)\n        .map((e) => ({ asset: _.find(assets, (asset) => e.tokenIdentifier === asset.tokenId), esdt: e }))\n        .filter((t) => !!t.asset)\n        .map(async (t) => {\n          const amount = to18(t.esdt.balance, t.asset!.dec);\n          return {\n            asset: t.asset!,\n            amount,\n            value: await oracle.valueOf(network.id, t.asset!, amount),\n          };\n        })\n        .value()\n    );\n\n    balances.push({ asset: esdt(\"EGLD\", \"\", 18), amount: balanceEGLD, value: await oracle.valueOf(network.id, tokens.EGLD(), balanceEGLD) });\n\n    return balances;\n  }\n\n  export type Strategy = { assets: ESDT[]; pool: string; farm: string };\n\n  export const FarmStrategies = {\n    USDC_EGLD: () => ({\n      assets: [tokens.USDC(), tokens.EGLD()],\n      pool: \"erd1qqqqqqqqqqqqqpgqeel2kumf0r8ffyhth7pqdujjat9nx0862jpsg2pqaq\",\n      farm: \"erd1qqqqqqqqqqqqqpgqsw9pssy8rchjeyfh8jfafvl3ynum0p9k2jps6lwewp\",\n    }),\n    MEX_EGLD: () => ({\n      assets: [tokens.MEX(), tokens.EGLD()],\n      pool: \"erd1qqqqqqqqqqqqqpgqa0fsfshnff4n76jhcye6k7uvd7qacsq42jpsp6shh2\",\n      farm: \"erd1qqqqqqqqqqqqqpgqye633y7k0zd7nedfnp3m48h24qygm5jl2jpslxallh\",\n    }),\n  };\n\n  export class Farm implements Position {\n    mex = tokens.MEX();\n\n    data = {\n      lpBalanceStaked: zero,\n      amount0: zero,\n      amount1: zero,\n      value0: zero,\n      value1: zero,\n      rewardAmount: zero,\n      rewardValue: zero,\n      tvl: zero,\n    };\n\n    constructor(public args: PositionArgs, public oracle: PriceOracle, public strategy: Strategy) {}\n\n    getName = () => ``;\n\n    getArgs = () => this.args;\n\n    getNetwork = () => network;\n\n    getAssets = () => this.strategy.assets;\n\n    getRewardAssets = () => [this.mex];\n\n    getData = () => this.data;\n\n    getHealth = () => [];\n\n    getAmounts = () => [\n      {\n        asset: this.strategy.assets[0],\n        amount: this.data.amount0,\n        value: this.data.value0.muln(1000),\n      },\n      {\n        asset: this.strategy.assets[1],\n        amount: this.data.amount1,\n        value: this.data.value1,\n      },\n    ];\n\n    getPendingRewards = () => [{ asset: this.mex, amount: this.data.rewardAmount, value: this.data.rewardValue }];\n\n    getTVL = () => this.data.tvl;\n\n    async load() {\n      const account = new Address(this.args.address);\n      const pair = new SmartContract({ address: new Address(this.strategy.pool) });\n      const farm = new SmartContract({ address: new Address(this.strategy.farm) });\n\n      const [esdts, farmingTokenReserve, token0Id, reserves] = await Promise.all([\n        provider.getAddressEsdtList(account),\n        call(farm, \"getFarmingTokenReserve\").then((r) => base64(r[0])),\n        call(pair, \"getFirstTokenId\").then((r) => r[0]),\n        call(pair, \"getReservesAndTotalSupply\").then((r) => r.map(base64)),\n      ]);\n      const [token0r, token1r, lpTotalSupply] = reserves;\n\n      const farmNfts = _.filter(esdts, (v) => v.creator === this.strategy.farm);\n      if (!farmNfts.length) return;\n\n      this.data.lpBalanceStaked = farmNfts.map((nft) => parseLPFromFarmTokenAttr(nft.attributes)).reduce((sum, b) => sum.add(b), zero);\n\n      this.data.rewardAmount = await Promise.all(farmNfts.map((nft) => callAndParseGetPendingRewards(farm, nft.balance, nft.attributes))).then((r) =>\n        r.reduce((sum, r) => sum.add(r), zero)\n      );\n\n      const percentOfPool = this.data.lpBalanceStaked.mul(ether).div(lpTotalSupply);\n      const token0 = to18(this.strategy.assets[0].tokenId === token0Id[0] ? token0r : token1r, this.strategy.assets[0].dec);\n      const token1 = to18(this.data.amount0 === token0r ? token1r : token0r, this.strategy.assets[1].dec);\n      this.data.amount0 = percentOfPool.mul(token0).div(ether);\n      this.data.amount1 = percentOfPool.mul(token1).div(ether);\n      [this.data.value0, this.data.value1, this.data.tvl, this.data.rewardValue] = await Promise.all([\n        this.oracle.valueOf(network.id, this.strategy.assets[0], this.data.amount0),\n        this.oracle.valueOf(network.id, this.strategy.assets[1], this.data.amount1),\n        this.oracle.valueOf(network.id, this.strategy.assets[1], token1.muln(2).mul(farmingTokenReserve).div(lpTotalSupply)),\n        this.oracle.valueOf(network.id, this.mex, this.data.rewardAmount),\n      ]);\n    }\n\n    getContractMethods = () => [];\n\n    async callContract(method: string, args: string[]) {}\n\n    async sendTransaction(method: string, args: string[], useLegacyTx: boolean) {}\n\n    async harvest(useLegacyTx: boolean) {}\n  }\n\n  export type MexPoolStrategy = Strategy & { nft: ESDT; reward: ESDT };\n  export const MexFarmStrategies = {\n    MEX: () => ({\n      assets: [tokens.MEX()],\n      pool: \"erd1qqqqqqqqqqqqqpgqrc4pg2xarca9z34njcxeur622qmfjp8w2jps89fxnl\",\n      farm: \"erd1qqqqqqqqqqqqqpgqv4ks4nzn2cw96mm06lt7s2l3xfrsznmp2jpsszdry5\",\n      nft: tokens.MEX_POOL_NFT(),\n      reward: tokens.MEX(),\n    }),\n    RIDE: () => ({\n      assets: [tokens.MEX()],\n      pool: \"erd1qqqqqqqqqqqqqpgqrc4pg2xarca9z34njcxeur622qmfjp8w2jps89fxnl\",\n      farm: \"erd1qqqqqqqqqqqqqpgq5e2m9df5yxxkmr86rusejc979arzayjk2jpsz2q43s\",\n      nft: tokens.RIDE_POOL_NFT(),\n      reward: tokens.RIDE(),\n    }),\n  };\n\n  export class MexFarm extends Farm {\n    getRewardAssets = () => [(this.strategy as MexPoolStrategy).reward];\n\n    getPendingRewards = () => [{ asset: this.mex, amount: this.data.rewardAmount, value: this.data.rewardValue }];\n\n    override async load() {\n      const account = new Address(this.args.address);\n      const proxy = new SmartContract({ address: new Address(this.strategy.pool) });\n      const farm = new SmartContract({ address: new Address(this.strategy.farm) });\n      const farmNft = (this.strategy as MexPoolStrategy).nft;\n      const asset = this.getAssets()[0];\n\n      let totalAssetStaked = await call(farm, \"getFarmingTokenReserve\")\n        .then((r) => base64(r[0]))\n        .catch(() => zero);\n      if (totalAssetStaked.isZero()) {\n        const farmEsdts = await provider.getAddressEsdtList(farm.getAddress());\n        totalAssetStaked = bn(_.find(farmEsdts, (e) => e.tokenIdentifier === asset.tokenId)!.balance);\n      }\n      this.data.tvl = await this.oracle.valueOf(network.id, asset, totalAssetStaked);\n\n      const esdts = await provider.getAddressEsdtList(account);\n      const farmNftWrapper = _.find(esdts, (e) => e.creator === proxy.getAddress().toString() && e.tokenIdentifier.startsWith(tokens.LKFARM().tokenId));\n      if (!farmNftWrapper) return;\n      this.data.amount0 = parsePrincipalAmountFromWrappedFarmTokenAttr(farmNftWrapper.attributes, farmNft);\n      this.data.value0 = await this.oracle.valueOf(network.id, asset, this.data.amount0);\n\n      this.data.rewardAmount = await callAndParseGetPendingRewards(farm, farmNftWrapper.balance, farmNftWrapper.attributes);\n      this.data.rewardValue = await this.oracle.valueOf(network.id, this.getRewardAssets()[0], this.data.rewardAmount);\n    }\n  }\n\n  function esdt(name: string, tokenId: string, decimals: number): ESDT {\n    const result = erc20(name, zeroAddress) as ESDT;\n    result.esdt = true;\n    result.tokenId = tokenId;\n    result.dec = decimals;\n    return result;\n  }\n\n  function base64(s: string) {\n    return bn(Buffer.from(s, \"base64\").toString(\"hex\"), 16);\n  }\n\n  function call(contract: SmartContract, fn: string) {\n    return contract.runQuery(provider, { func: new ContractFunction(fn) }).then((r) => r.returnData);\n  }\n\n  async function callAndParseGetPendingRewards(farm: SmartContract, balanceFarmNFT: BN, attributes: string) {\n    const result = await farm.runQuery(provider, {\n      func: new ContractFunction(\"calculateRewardsForGivenPosition\"),\n      args: [new BigUIntValue(BigNumberExt.max(balanceFarmNFT.toString())), new BytesValue(Buffer.from(attributes, \"base64\"))],\n    });\n    if (result.returnData.length) return base64(result.returnData[0]);\n\n    return zero;\n  }\n\n  function parseLPFromFarmTokenAttr(attributes: string) {\n    const [struct] = codec.decodeNested(Buffer.from(attributes, \"base64\"), typeFarmTokenAttributes);\n    const data = struct.valueOf();\n    return bn((data.initial_farming_amount as BigNumberExt).toString(16), 16);\n  }\n\n  function parsePrincipalAmountFromWrappedFarmTokenAttr(attributes: string, asset: ESDT) {\n    const [struct] = codec.decodeNested(Buffer.from(attributes, \"base64\"), typeWrappedFarmTokenAttributes);\n    const data = struct.valueOf();\n    if ((data.farm_token_id as Buffer).toString() !== asset.tokenId) return zero;\n\n    return bn((data.farming_token_amount as BigNumberExt).toString(16), 16);\n  }\n\n  const codec = new BinaryCodec();\n  const typeWrappedFarmTokenAttributes = new StructType(\"WrappedFarmTokenAttributes\", [\n    new StructFieldDefinition(\"farm_token_id\", \"\", new TokenIdentifierType()),\n    new StructFieldDefinition(\"farm_token_nonce\", \"\", new U64Type()),\n    new StructFieldDefinition(\"farm_token_amount\", \"\", new BigUIntType()),\n    new StructFieldDefinition(\"farming_token_id\", \"\", new TokenIdentifierType()),\n    new StructFieldDefinition(\"farming_token_nonce\", \"\", new U64Type()),\n    new StructFieldDefinition(\"farming_token_amount\", \"\", new BigUIntType()),\n  ]);\n  const typeFarmTokenAttributes = new StructType(\"FarmTokenAttributes\", [\n    new StructFieldDefinition(\"reward_per_share\", \"\", new BigUIntType()),\n    new StructFieldDefinition(\"original_entering_epoch\", \"\", new U64Type()),\n    new StructFieldDefinition(\"entering_epoch\", \"\", new U64Type()),\n    new StructFieldDefinition(\"apr_multiplier\", \"\", new U8Type()),\n    new StructFieldDefinition(\"with_locked_rewards\", \"\", new BooleanType()),\n    new StructFieldDefinition(\"initial_farming_amount\", \"\", new BigUIntType()),\n    new StructFieldDefinition(\"compounded_reward\", \"\", new BigUIntType()),\n    new StructFieldDefinition(\"current_farm_amount\", \"\", new BigUIntType()),\n  ]);\n}\n\n// const ZERO_ADDRESS = \"erd1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gq4hu\";\n// const ESDT_ISSUE_ADDRESS = \"erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u\";\n// const LOCKED_ASSET_FACTORY_ADDRESS = \"erd1qqqqqqqqqqqqqpgqjpt0qqgsrdhp2xqygpjtfrpwf76f9nvg2jpsg4q7th\";\n// const ROUTE_ADDRESS = \"erd1qqqqqqqqqqqqqpgqq66xk9gfr4esuhem3jru86wg5hvp33a62jps2fy57p\";\n// const MEXEGLD_POOL_ADDRESS = \"erd1qqqqqqqqqqqqqpgqa0fsfshnff4n76jhcye6k7uvd7qacsq42jpsp6shh2\";\n// const USDCEGLD_POOL_ADDRESS = \"erd1qqqqqqqqqqqqqpgqeel2kumf0r8ffyhth7pqdujjat9nx0862jpsg2pqaq\";\n// const MEXEGLD_FARM_ADDRESS = \"erd1qqqqqqqqqqqqqpgqye633y7k0zd7nedfnp3m48h24qygm5jl2jpslxallh\";\n// const USDCEGLD_FARM_ADDRESS = \"erd1qqqqqqqqqqqqqpgqsw9pssy8rchjeyfh8jfafvl3ynum0p9k2jps6lwewp\";\n// const MEX_FARM_ADDRESS = \"erd1qqqqqqqqqqqqqpgqv4ks4nzn2cw96mm06lt7s2l3xfrsznmp2jpsszdry5\";\n// const PROXY_ADDRESS = \"erd1qqqqqqqqqqqqqpgqrc4pg2xarca9z34njcxeur622qmfjp8w2jps89fxnl\";\n// const RIDE_EGLD_POOL = \"erd1qqqqqqqqqqqqqpgqav09xenkuqsdyeyy5evqyhuusvu4gl3t2jpss57g8x\";\n// const MEX_TOKEN = \"MEX-455c57\";\n// const LKMEX_TOKEN = \"LKMEX-aab910\";\n// const WEGLD_TOKEN = \"WEGLD-bd4d79\";\n// const USDC_TOKEN = \"USDC-c76f1f\";\n// const EGLDMEXLP = \"EGLDMEX-0be9e5\";\n// const EGLDUSDCLP = \"EGLDUSDC-594e5e\";\n// const EGLDMEXF = \"EGLDMEXF-5bcc57\";\n// const EGLDUSDCF = \"EGLDUSDCF-8600f8\";\n// const MEXFARM = \"MEXFARM-e7af52\";\n// const LOCKED_LP = \"LKLP-03a2fa\";\n// const LOCKED_FARM = \"LKFARM-9d1ea8\";\n// const WEGLD_SHARD0 = \"erd1qqqqqqqqqqqqqpgqvc7gdl0p4s97guh498wgz75k8sav6sjfjlwqh679jy\";\n// const WEGLD_SHARD1 = \"erd1qqqqqqqqqqqqqpgqhe8t5jewej70zupmh44jurgn29psua5l2jps3ntjj3\";\n// const WEGLD_SHARD2 = \"erd1qqqqqqqqqqqqqpgqmuk0q2saj0mgutxm4teywre6dl8wqf58xamqdrukln\";\n"],"sourceRoot":""}